import{_ as O}from"./AppTextField-bc3597c6.js";import{_ as R}from"./AppSelect-4fa96c2b.js";import{u as Y,_ as z,d as D}from"./EditPropertyDialog-87ee1ad7.js";import{f as N}from"./currencyFormatter-92ad4b3c.js";import{p as $}from"./paginationMeta-4ad053a4.js";import{l as L}from"./lodash-7faba356.js";import{V as S}from"./VCard-18f293ae.js";import{V as T}from"./VCardText-7683b789.js";import{V as j}from"./VSpacer-79c8e432.js";import{V as h}from"./VDivider-756cacd6.js";import{V as J}from"./VDataTableServer-3582e903.js";import{V as q}from"./VChip-40043de9.js";import{V as Q}from"./VPagination-a2fa3d71.js";import{r as g,w as G,a as H,o as _,c as x,b as l,e as o,n as t,f as K,a0 as m,z as V,d as n,x as p,v as y,a4 as P,s as B,$ as W}from"./index-e0f854fb.js";import"./form-e3b9662b.js";import"./VTextField-11682da1.js";/* empty css                   */import"./VCounter-b2b420ec.js";import"./VImg-06c338d7.js";import"./VField-7b8c32e3.js";import"./easing-9f15041e.js";import"./VInput-93290e0f.js";import"./forwardRefs-8348545e.js";import"./VSelect-fa04fc6a.js";import"./VList-4c431b15.js";import"./ssrBoot-ed486564.js";import"./VAvatar-b3e45d40.js";import"./dialog-transition-98a33614.js";import"./VMenu-249905aa.js";import"./VOverlay-f0a4b6b6.js";import"./lazy-35f55630.js";import"./scopeId-b072862c.js";import"./VCheckboxBtn-42ffa7af.js";import"./VSelectionControl-398f4203.js";import"./AppDateTimePicker-af56965a.js";import"./DialogCloseBtn-bca8d862.js";import"./api-7e421e3b.js";import"./index-9c720871.js";import"./constants-0978c720.js";import"./notifications-cae4d01c.js";import"./VForm-88e0c39e.js";import"./VRow-6bb6adbe.js";import"./VCol-ba474af9.js";import"./VDialog-1653676d.js";import"./VDataTable-898d1f19.js";import"./VTable-f59bbe37.js";import"./filter-7a6e71cd.js";const X={class:"text-body-1"},Z={class:"d-flex align-center flex-wrap gap-4"},ee={class:"d-flex align-center gap-4"},te={class:"text-capitalize"},ae={key:0,class:"text-capitalize font-weight-medium"},oe={key:1,class:"text-capitalize font-weight-medium"},le={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},ie={class:"text-sm text-disabled mb-0"},tt={__name:"list",setup(se){const{getAllBillboardFaces:C,billboardFaces:c,billboardFace:b,totalBillboardFaces:u}=Y(),d=g(),i=g(20),r=g(1),f=g(!1),F=s=>{r.value=s.page,i.value=s.itemsPerPage},w=[{title:"Codigo",key:"code"},{title:"Cara",key:"face"},{title:"Estado",key:"status"},{title:"Rentado desde",key:"rented_from"},{title:"Disponible desde",key:"available_from"},{title:"Departamento",key:"billboard.city.department"},{title:"Ciudad",key:"billboard.city.name"},{title:"Accion",key:"actions",sortable:!1}],E=()=>{C({itemsPerPage:i.value,page:r.value,search:d.value})},U=L.debounce(E,300);G([d,i,r],U,{immediate:!0});const k=s=>{switch(s){case"ROJO":return{color:"danger",text:"ROJO"};case"AMARILLO":return{color:"warning",text:"AMARILLO"};case"VERDE":return{color:"success",text:"VERDE"};default:return{color:"primary",text:"INDEFINIDO"}}},I=async s=>{f.value=!0,b.value={...s}},A=s=>{const a=c.value.findIndex(v=>v.id===s.id);a!==-1&&(c.value[a]={...s})};return(s,a)=>{const v=O,M=H("IconBtn");return _(),x("section",null,[l(S,null,{default:o(()=>[l(T,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[n("div",null,[a[6]||(a[6]=n("h5",{class:"text-h5"}," Caras ",-1)),n("div",X," En total son "+p(t(u))+" caras. ",1)]),l(j),n("div",Z,[l(R,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=e=>m(i)?i.value=e:null),density:"compact",items:[5,10,20,50,100]},null,8,["modelValue"]),l(v,{modelValue:t(d),"onUpdate:modelValue":a[1]||(a[1]=e=>m(d)?d.value=e:null),placeholder:"Buscar...",density:"compact",style:{"inline-size":"12.5rem"}},null,8,["modelValue"])])]),_:1}),l(h),l(t(J),{"items-per-page":t(i),"onUpdate:itemsPerPage":a[3]||(a[3]=e=>m(i)?i.value=e:null),page:t(r),"onUpdate:page":a[4]||(a[4]=e=>m(r)?r.value=e:null),items:t(c),headers:w,"items-length":t(i).value===-1?t(c).value.length:t(u),class:"text-no-wrap","onUpdate:options":F},{"item.base_price":o(({item:e})=>[n("div",ee,[n("span",te,p(t(N)(e.base_price)),1)])]),"item.typeProperty":o(({item:e})=>[e.parking?(_(),x("span",ae,"Parqueo")):V("",!0),e.departament?(_(),x("span",oe,"Departamento")):V("",!0)]),"item.status":o(({item:e})=>[l(q,{label:"",size:"small",class:"text-capitalize",color:k(e.status).color},{default:o(()=>[y(p(k(e.status).text),1)]),_:2},1032,["color"])]),"item.rented_from":o(({item:e})=>[n("span",null,p(e.rented_from?t(D)(e.rented_from).format("DD-MM-YYYY"):"-"),1)]),"item.available_from":o(({item:e})=>[n("span",null,p(e.available_from?t(D)(e.available_from).format("DD-MM-YYYY"):"-"),1)]),bottom:o(()=>[l(h),n("div",le,[n("p",ie,p(t($)({page:t(r),itemsPerPage:t(i)},t(u))),1),l(Q,{modelValue:t(r),"onUpdate:modelValue":a[2]||(a[2]=e=>m(r)?r.value=e:null),length:Math.ceil(t(u)/t(i)),"total-visible":s.$vuetify.display.xs?1:7},{prev:o(e=>[l(P,B({variant:"tonal",color:"default"},e,{icon:!1}),{default:o(()=>a[7]||(a[7]=[y(" Anterior ")])),_:2},1040)]),next:o(e=>[l(P,B({variant:"tonal",color:"default"},e,{icon:!1}),{default:o(()=>a[8]||(a[8]=[y(" Siguiente ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),"item.actions":o(({item:e})=>[l(M,null,{default:o(()=>[l(W,{icon:"ti ti-edit",onClick:re=>I(e)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),t(b)?(_(),K(z,{key:0,"is-dialog-visible":t(f),"onUpdate:isDialogVisible":a[5]||(a[5]=e=>m(f)?f.value=e:null),billboardFace:t(b),onPropertyUpdated:A},null,8,["is-dialog-visible","billboardFace"])):V("",!0)])}}};export{tt as default};
