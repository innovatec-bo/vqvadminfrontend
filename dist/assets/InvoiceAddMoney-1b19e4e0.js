import{r as f}from"./validators-dea6e3a5.js";import{V as p}from"./VCol-fa8b79cf.js";import{V}from"./VTextField-72b6f05e.js";import{r as T,a2 as _,w as x,o as m,f as B,e as s,d as n,x as d,c as v,F as E,i as N,b as o,n as y,a4 as A,$ as k,v as c}from"./index-3e1c086b.js";import{V as q}from"./VCard-8f9f713c.js";const U={CASH:{value:"CASH",title:"Contado"},BANKCREDIT:{value:"BANKCREDIT",title:"Credito Bancario"}},$={DEPARTAMENT:{label:"Departamento",value:"DEPARTAMENT"},PARK:{label:"Parqueo",value:"PARK"}},D={class:"mb-2"},F={class:"mt-4"},R={class:"mt-4"},w={__name:"InvoiceAddMoney",props:{title:{type:String,default:""},type:{type:String,default:""},amount:{type:Number,default:0},differs:{type:Array,default:()=>[]}},setup(g){const a=g,l=T(a.differs),C=()=>{l.value.push({amount:"",date:""}),a.differs=l.value},b=e=>{l.value.splice(e,1),a.differs=l.value},i=_(()=>l.value.reduce((e,r)=>{const t=parseFloat(r.amount)||0;return e+t},0));return x(i,e=>{e>a.amount&&alert("El total de los pagos no puede exceder el monto total.")}),(e,r)=>(m(),B(q,{flat:"",border:"",class:"d-flex flex-column pa-5"},{default:s(()=>[n("h3",D,d(a.title)+" : "+d(a.amount),1),(m(!0),v(E,null,N(l.value,(t,P)=>(m(),v("div",{key:t.id,class:"d-flex align-center"},[o(p,{cols:"5"},{default:s(()=>[o(V,{modelValue:t.date,"onUpdate:modelValue":u=>t.date=u,label:"Fecha",type:"date",outlined:"",rules:["requiredValidator"in e?e.requiredValidator:y(f)]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),o(p,{cols:"5"},{default:s(()=>[o(V,{modelValue:t.amount,"onUpdate:modelValue":u=>t.amount=u,rules:["requiredValidator"in e?e.requiredValidator:y(f)],"error-messages":t.amount?"":"*campo obligatorio",label:"Monto *",type:"number",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","rules","error-messages"])]),_:2},1024),o(A,{color:"error",outlined:"",class:"mt-0",onClick:u=>b(P)},{default:s(()=>[o(k,{icon:"tabler-square-x"})]),_:2},1032,["onClick"])]))),128)),n("div",F,[r[0]||(r[0]=n("strong",null,"Suma Actual de Pagos: ",-1)),c(" $"+d(i.value.toFixed(2)),1)]),n("div",R,[r[1]||(r[1]=n("strong",null,"Monto Restante:",-1)),c(" $"+d((a.amount-i.value).toFixed(2)),1)]),o(A,{color:"secondary",class:"mt-4",onClick:C},{default:s(()=>[c(" Diferir "+d(a.title),1)]),_:1})]),_:1}))}};export{$ as P,w as _,U as a};
