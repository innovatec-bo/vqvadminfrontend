import{u as ie,S as ke,_ as xe,a as Ae,d as Ne}from"./PreSaleForm-33d71d29.js";import{r as K,e as Re}from"./validators-dea6e3a5.js";import{_ as De}from"./AppTextarea-63036ab1.js";import{_ as Le}from"./AppDateTimePicker-b0a1a7b8.js";import{_ as _e}from"./AppTextField-46674fd0.js";import{_ as be}from"./AppSelect-85835377.js";import{f as le}from"./currencyFormatter-92ad4b3c.js";import{$ as de}from"./api-82c09656.js";import{s as he,a as Me,b as He,c as Se,S as we}from"./notifications-81bc0416.js";import{r as _,o as n,c as v,d as l,F as j,i as Q,b as e,e as t,n as i,v as C,x as g,z as B,f as F,$ as J,a4 as T,w as se,a3 as $e,a as ue,a0 as M,am as Z,a2 as ee,k as Qe,H as Ue,an as Ce,ac as Ge}from"./index-7feb186e.js";import{V as Oe}from"./VAvatar-56b48f2e.js";import{b as ae,c as oe,a as ge}from"./VList-5785f205.js";import{V as b}from"./VCol-3272b937.js";import{V as X}from"./VChip-0b1c6eb6.js";import{V as te}from"./VTooltip-f22cc720.js";import{V as G}from"./VCardText-a7ddd517.js";import{a as ze,f as Ke}from"./formatters-b3558c7d.js";import{u as Ye}from"./useQuote-87b33e23.js";import{_ as Je}from"./AppAutocomplete-734e667e.js";import{_ as ce}from"./DialogCloseBtn-657a95ae.js";import{u as We}from"./useProperty-1e9bfe98.js";import{V as W,b as me}from"./VCard-c0cf2be9.js";import{V as Ie}from"./VForm-f66dab87.js";import{V as H}from"./VRow-af5fbf91.js";import{V as fe}from"./VDialog-251d7cd2.js";import{V as ne}from"./VCheckbox-625fde32.js";import{V as pe}from"./VTable-3860c0c9.js";import{u as Ze}from"./useSales-9add4389.js";import{V as re}from"./VTextField-77e1f5f3.js";import{P as Fe}from"./vue3-perfect-scrollbar.esm-83a4e89b.js";import{V as Xe,a as et}from"./VTimelineItem-7ef6e8c3.js";import{V as qe}from"./VNavigationDrawer-2d502903.js";import{_ as Ee}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as tt}from"./AppDrawerHeaderSection-080de62e.js";import{V as Te,a as lt}from"./VWindowItem-b762eea3.js";import{V as at,a as Pe}from"./VRadioGroup-ec740da3.js";import{V as ot}from"./VDivider-49c96768.js";import{V as it,a as st}from"./VTabs-cfa89038.js";import{V as nt}from"./VOverlay-839a1841.js";import"./InvoiceAddMoney-03662ea2.js";import"./VNodeRenderer-d1ed5713.js";import"./helpers-61e4df1a.js";import"./form-14c48936.js";/* empty css                   */import"./VCounter-353bde1e.js";import"./VImg-206d1295.js";import"./VField-3ef6c759.js";import"./easing-9f15041e.js";import"./VInput-5e285abb.js";import"./forwardRefs-8348545e.js";import"./VSelect-c54d284a.js";import"./dialog-transition-09f5584e.js";import"./VMenu-07081ef2.js";import"./scopeId-f47a53f4.js";import"./VCheckboxBtn-72f770db.js";import"./VSelectionControl-f964f932.js";import"./index-9c720871.js";import"./constants-af5bcc15.js";import"./ssrBoot-3333228b.js";import"./filter-507606d7.js";import"./VSpacer-de882cd0.js";import"./lazy-023cdafc.js";import"./VSlideGroup-a57c8876.js";const je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANCSURBVHgB7VZJT1NRFP5e+9pSCrSFUgUUlLGCCCIyBCISNcGFaEKICcaERBbyB3TjgpVLE2MiC4lRlyYaNSIhKooiKAqUQZAZUlpmKHOHV+q9FylUINGFsnlfmrzzes859zvfOTfvcoXXC93YRUiwyxAJiAREAiIBHv8QSoUSxXlFXv/VtTWgfbDz/xCgaO5p9Xq3TI95vXsI6DXBKL1QApfLhVX3KuaX5tHUY0TD90a2Hrs/GunxaYgJi4RDcKJrqBtVjdWI2BOOi7kFqKh8iIKcfOjUOrxr+YCa5lpkxKfiUIQB/eYBuMEhwNcf3aZeLwLShOyEMmqofFTISzuNW4/voHPoB8JJ4jOpudD4qTFKWBefLUL5swoYe1uZ78mj2Wyz8dkJZCVmEDsItcZP0Gt1SIo+ApvdhvPZ51D+/B46iOT9lgEYIuKIbyYau75tVWAdGn8tekf6cP/VI1zNv4LMhHTMETUEwQXXqgszC1Y8/fgCYcGhiCOqNPU0s7iX9VUYnjBhZMqMIP9A2Jw23H5yF0q5D9INqbALDlZM7L4oqFUBLCfFllOQdTjdY79pes+edocdoboQUlmiZ63WWAfBtQr3r4/5mHWCPWfmZ9Fr7odUwqM0vwQpscloG+yAsa8NS7alNdmlUk+eLQRowKmUHCbz3kA96+fX7hZYF2bJRF9CTnI2WfMlCoSgrr3eEycIgleezITjUCl98ZbMwgppxx6tHn5K1e/bec/AiaQsVH15jRgiU/wBA2G8jMrP1bA77Wgd6ICCVyAy9CAbSMvUKGpaalk1Mp5nR8vt3rjbWKZHERQQSIY2CjwvhVwmx/CYidnGvnai3hphbv1GpNcG48blayh7cJPJuB38yRTTQFqJw+mEr8IHApkLakskEtgcNo8vL+UZMVo97bmTnBx6unzkCjLU4xt+6wbtM+0TDdgJx0h7OI5jJKg6bpJwybYCQ3g0zJOjCAzQwjRhJv2XQO2nYS20Ls6RwVajx9TH1i3EbzO4v7kTBmt0WFxZhISTsEo8ZDn641iFfqSV88uLrG1ymYypo5Ap1twI+c0qeSnwJ5i0TnlsqsB22Kwg3ZyCktkJ4tdQJCASEAmIBH4Cka1P8RSIn3sAAAAASUVORK5CYII=",rt=async(k,D)=>await de(`/opportunity/${k}/stage/${D}`,{method:"GET"}),ut=async(k,D,a)=>await de(`/opportunity/${k}/procedure/${D}`,{method:"PATCH",body:a});function ye(){const k=_(null),D=_(!1),a=_(!1),f=_([]);return{process:k,loadingProcess:D,errorProcess:a,processes:f,allProcessesOpportunityForStage:async(V,r)=>{try{const c=await rt(V,r);f.value=c.data}catch(c){console.log(c)}},checkProcessForOpportunity:async(V,r,c)=>{try{console.log(c);const d=await ut(V,r,c);he("¡Proceso completado exitosamente!","El proceso ha sido llevado a cabo sin inconvenientes. ")}catch(d){console.log(d)}}}}const dt={class:"my-5"},pt={key:0},ct=["src"],mt={class:"my-5"},ft={key:0,class:"d-flex flex-wrap gap-2 my-5"},yt={key:1},vt={__name:"EditDeliveryOpportunity",props:{opportunity:{type:Object,required:!0}},emits:["updateStageId","complet"],setup(k,{emit:D}){const a=k,f=D,{changeStatusByOpportunity:U}=ie(),{checkProcessForOpportunity:x}=ye(),V=async()=>{try{await U(a.opportunity.id,7,{}),f("complet")}catch(c){console.error("Error updating customer:",c)}},r=async(c,d)=>{console.log(`Procedimiento ${c} marcado como: ${d?"realizado":"no realizado"}`),await x(a.opportunity.id,c,{is_check:!d}),f("updateStageId",a.opportunity.id)};return(c,d)=>(n(),v(j,null,[l("div",dt,[d[0]||(d[0]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Propiedades ",-1)),a.opportunity.sales.length>0?(n(),v("div",pt,[(n(!0),v(j,null,Q(a.opportunity.sales,w=>(n(),v("div",{key:w.id},[(n(!0),v(j,null,Q(w.properties,O=>(n(),v("div",{key:O.id,class:"d-flex align-center justify-between"},[e(Oe,{size:"50",rounded:""},{default:t(()=>[l("img",{src:i(je),alt:"Logo pora",style:{"border-radius":"30%"}},null,8,ct)]),_:1}),e(b,{cols:"12",md:"7"},{default:t(()=>[e(ae,{class:"font-weight-medium"},{default:t(()=>[C(g(O.project_title)+" | "+g(O.title),1)]),_:2},1024),e(oe,{class:"text-disabled d-flex justify-between mt-1"},{default:t(()=>[l("span",null,g(("formatCurrency"in c?c.formatCurrency:i(le))(O.pivot_price)),1)]),_:2},1024)]),_:2},1024)]))),128))]))),128))])):B("",!0)]),l("div",mt,[d[2]||(d[2]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Procesos ",-1)),a.opportunity.procedure&&a.opportunity.procedure.length>0?(n(),v("div",ft,[(n(!0),v(j,null,Q(a.opportunity.procedure,w=>(n(),v("div",{key:w.id},[e(X,{color:w.pivot.is_check?"primary":"secondary",variant:"outlined",class:"my-1",style:{cursor:"pointer"},"fill-dot":"",onClick:O=>r(w.id,w.pivot.is_check)},{default:t(()=>[w.pivot.is_check?(n(),F(J,{key:0,icon:"tabler-check",class:"mr-2"})):B("",!0),C(" "+g(w.title),1)]),_:2},1032,["color","onClick"]),e(te,{activator:"parent",location:"top"},{default:t(()=>[C(g(w.pivot.is_check?"Deshacer Proceso":"Confirmar Proceso"),1)]),_:2},1024)]))),128))])):(n(),v("div",yt,d[1]||(d[1]=[l("span",null,"No hay procedimientos disponibles.",-1)])))]),e(G,{class:"d-flex justify-center mt-4"},{default:t(()=>[e(T,{color:"primary",size:"small",onClick:V},{default:t(()=>d[3]||(d[3]=[C(" Finalizar Oportunidad ")])),_:1})]),_:1})],64))}},Be={__name:"EditCustomerDialog",props:{isDialogVisible:{type:Boolean,required:!0},opportunityKanban:{type:Object,required:!0}},emits:["update:isDialogVisible","update:newProperty"],setup(k,{emit:D}){const a=k,f=D;Object.values(ke).map(y=>({title:y.label,value:y.value}));const{propertiesAvailbles:U,properties:x}=We(),{getOpportunitybyId:V,opportunity:r,changeOpportunity:c,loadingOpportunity:d}=ie(),w=()=>{f("update:isDialogVisible",!1)},O=async()=>{console.log("antes del save:",r);const y={id:r.value.id,description:r.value.description,property_id:r.value.property_id,customer:{id:r.value.customer.id,name:r.value.customer.name,email:r.value.customer.email,ci:r.value.customer.ci,cod_phone:r.value.customer.cod_phone.replace(/\+/g,""),phone:r.value.customer.phone}};console.log("data de editar",y),await c(r.value.id,y),r.value.property_id&&(console.log("Cambio y geenero el Emit Principal"),f("update:newProperty",r.value.property_id)),f("update:isDialogVisible",!1)},h=async()=>{var y;(y=a.opportunityKanban)!=null&&y.id&&await V(a.opportunityKanban.id)},P=async()=>{await U()};return se(()=>a.isDialogVisible,async y=>{y===!0&&(h(),await P())}),(y,p)=>{const $=ce,N=_e,s=be,m=Je,R=De;return n(),F(fe,{"max-width":"800","model-value":a.isDialogVisible,persistent:"","close-on-esc":!1,"onUpdate:modelValue":w},{default:t(()=>[e($,{onClick:w}),e(W,{title:"Información del Cliente y Oportunidad",class:"pa-sm-8 pa-5"},{default:t(()=>[e(G,null,{default:t(()=>[e(Ie,{onSubmit:$e(O,["prevent"])},{default:t(()=>[e(H,{dense:""},{default:t(()=>[e(b,{cols:"12",md:"6"},{default:t(()=>[e(N,{modelValue:i(r).customer.name,"onUpdate:modelValue":p[0]||(p[0]=A=>i(r).customer.name=A),label:"Nombre del Cliente",placeholder:"Ingresa el nombre",outlined:""},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",md:"6"},{default:t(()=>[e(N,{modelValue:i(r).customer.email,"onUpdate:modelValue":p[1]||(p[1]=A=>i(r).customer.email=A),label:"Email del Cliente",placeholder:"Ingresa el email",outlined:""},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",md:"6"},{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"4"},{default:t(()=>[e(s,{modelValue:i(r).customer.cod_phone,"onUpdate:modelValue":p[2]||(p[2]=A=>i(r).customer.cod_phone=A),label:"Código",items:["+1","+52","+55","+54","+49","+33","+34","+39","+86","+81","+7","+591"],placeholder:"Cód.",outlined:""},null,8,["modelValue"])]),_:1}),e(b,{cols:"8"},{default:t(()=>[e(N,{modelValue:i(r).customer.phone,"onUpdate:modelValue":p[3]||(p[3]=A=>i(r).customer.phone=A),label:"Número de Teléfono",placeholder:"Ingresa el teléfono",outlined:"",dense:"",maxlength:"9"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(b,{cols:"12",md:"6"},{default:t(()=>[e(N,{modelValue:i(r).customer.ci,"onUpdate:modelValue":p[4]||(p[4]=A=>i(r).customer.ci=A),label:"CI del Cliente",placeholder:"Ingresa el CI",outlined:""},null,8,["modelValue"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(m,{modelValue:i(r).property_id,"onUpdate:modelValue":p[5]||(p[5]=A=>i(r).property_id=A),label:"Departamento de Interés",placeholder:"Selecciona un Departamento",items:i(x).map(A=>({title:A.title,value:A.id})),outlined:""},null,8,["modelValue","items"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(R,{modelValue:i(r).description,"onUpdate:modelValue":p[6]||(p[6]=A=>i(r).description=A),label:"Descripción de la Oportunidad",placeholder:"Ingresa una descripción",rows:"3","auto-grow":"",outlined:""},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",class:"text-center"},{default:t(()=>[e(T,{type:"submit",color:"primary",class:"me-3",disabled:i(d),loading:i(d)},{default:t(()=>p[7]||(p[7]=[C(" Guardar ")])),_:1},8,["disabled","loading"]),e(T,{color:"secondary",variant:"tonal",onClick:w},{default:t(()=>p[8]||(p[8]=[C(" Cancelar ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},gt={class:"d-flex align-bottom flex-sm-row flex-column"},_t={class:"user-profile-info"},bt={class:"d-flex align-center justify-center justify-sm-space-between flex-wrap gap-4"},Vt={class:"d-flex align-center gap-x-3"},wt={class:"text-4xl font-weight-medium"},Ct={class:"d-flex flex-column py-2",style:{"font-size":"14px"}},Pt={class:"text-sm text-disabled"},kt={key:0,class:"d-flex flex-wrap gap-2 my-5"},xt={key:1},At={key:0,class:"d-flex flex-wrap gap-2 my-5"},Dt={key:1},ht={__name:"EditPreSaleOpportunity",props:{opportunity:{type:Object,required:!0}},emits:["updateStageId","update:newProperty"],setup(k,{emit:D}){const a=k,f=D,{checkProcessForOpportunity:U}=ye(),{changeStatusQuotesCustomer:x}=Ye(),V=_(!1),r=_(!1),c=()=>{V.value=!0},d=()=>{console.log("Se escucho el evento en EditProspectOpportunity"),f("update:newProperty")},w=()=>{r.value=!0},O=async y=>{f("updateStageId",y)},h=async(y,p)=>{console.log(`Procedimiento ${y} marcado como: ${p?"realizado":"no realizado"}`),await U(a.opportunity.id,y,{is_check:!p}),f("updateStageId",a.opportunity.id)},P=async(y,p)=>{const $=p==="APPROVED"?"NOT_APPROVED":"APPROVED";console.log(`Procedimiento ${y} marcado como: ${p}`),await x(y,{status:$}),f("updateStageId",a.opportunity.id)};return(y,p)=>{const $=ue("RouterLink"),N=ue("IconBtn");return n(),v(j,null,[l("div",gt,[l("div",_t,[p[3]||(p[3]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Perfil ",-1)),l("div",bt,[l("div",Vt,[l("span",wt,g(("avatarText"in y?y.avatarText:i(ze))(a.opportunity.customer.name)),1),l("div",Ct,[e($,{to:{name:"apps-ecommerce-customer-details-id",params:{id:1}},class:"font-weight-base"},{default:t(()=>[C(g(a.opportunity.customer.name),1)]),_:1}),l("span",Pt,g(a.opportunity.customer.phone),1)]),e(T,{color:"secondary",variant:"tonal",size:"small",onClick:c},{default:t(()=>p[2]||(p[2]=[C(" Editar Perfil ")])),_:1})])])])]),l("div",null,[p[5]||(p[5]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Procesos ",-1)),a.opportunity.procedure&&a.opportunity.procedure.length>0?(n(),v("div",kt,[(n(!0),v(j,null,Q(a.opportunity.procedure,s=>(n(),v("div",{key:s.id},[e(X,{color:s.pivot.is_check?"primary":"secondary",variant:"outlined",class:"my-1",style:{cursor:"pointer"},"fill-dot":"",onClick:m=>h(s.id,s.pivot.is_check)},{default:t(()=>[s.pivot.is_check?(n(),F(J,{key:0,icon:"tabler-check",class:"mr-2"})):B("",!0),C(" "+g(s.title),1)]),_:2},1032,["color","onClick"]),e(te,{activator:"parent",location:"top"},{default:t(()=>[C(g(s.pivot.is_check?"Deshacer Proceso":"Confirmar Proceso"),1)]),_:2},1024)]))),128))])):(n(),v("div",xt,p[4]||(p[4]=[l("span",null,"No hay procedimientos disponibles.",-1)])))]),l("div",null,[p[8]||(p[8]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Cotizaciones ",-1)),a.opportunity.quotes&&a.opportunity.quotes.length>0?(n(),v("div",At,[e(pe,{density:"compact",class:"text-no-wrap",style:{"font-size":"12px"}},{default:t(()=>[p[6]||(p[6]=l("thead",null,[l("tr",null,[l("th",null," Propiedad "),l("th",null," Fecha "),l("th",null," Monto "),l("th")])],-1)),l("tbody",null,[(n(!0),v(j,null,Q(a.opportunity.quotes,s=>(n(),v("tr",{key:s.id},[l("td",null,g(s.properties[0].title),1),l("td",null,g(s.created_at),1),l("td",null,g(("formatCurrency"in y?y.formatCurrency:i(le))(s.amount)),1),l("td",null,[e(H,null,{default:t(()=>[e(ne,{modelValue:s.status,"onUpdate:modelValue":m=>s.status=m,"true-value":"APPROVED","false-value":"NOT_APPROVED",disabled:""},null,8,["modelValue","onUpdate:modelValue"]),e(ne,{modelValue:s.status_customer,"onUpdate:modelValue":m=>s.status_customer=m,"true-value":"APPROVED","false-value":"NOT_APPROVED",onClick:m=>P(s.id,s.status_customer)},{default:t(()=>[e(te,{activator:"parent",location:"top"},{default:t(()=>[C(g(s.status_customer=="NOT_APPROVED"?"No aprobado por cliente":"Aprobado por cliente"),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","onClick"]),e($,{to:{name:"quote-id",params:{id:s.id}}},{default:t(()=>[e(N,null,{default:t(()=>[e(J,{icon:"tabler-eye"})]),_:1})]),_:2},1032,["to"])]),_:2},1024)])]))),128))])]),_:1})])):(n(),v("div",Dt,p[7]||(p[7]=[l("span",null,"No hay procedimientos disponibles.",-1)])))]),e(G,{class:"d-flex justify-center mt-4"},{default:t(()=>[e($,{to:{name:"quote-add-quote"},class:"text-white"},{default:t(()=>[e(T,{color:"primary",class:"mx-1",variant:"tonal",size:"small"},{default:t(()=>p[9]||(p[9]=[C(" Generar Cotización ")])),_:1})]),_:1}),e(T,{color:"primary",class:"mx-auto",size:"small",onClick:w},{default:t(()=>p[10]||(p[10]=[C(" Generar Venta ")])),_:1})]),_:1}),e(Be,{"is-dialog-visible":i(V),"onUpdate:isDialogVisible":p[0]||(p[0]=s=>M(V)?V.value=s:null),"opportunity-kanban":a.opportunity,"onUpdate:newProperty":d},null,8,["is-dialog-visible","opportunity-kanban"]),e(xe,{"is-dialog-visible":i(r),"onUpdate:isDialogVisible":p[1]||(p[1]=s=>M(r)?r.value=s:null),opportunity:a.opportunity,stage:"PRESALE",onRegisterSale:O},null,8,["is-dialog-visible","opportunity"])],64)}}},St={class:"d-flex align-bottom flex-sm-row flex-column"},$t={class:"user-profile-info"},Ut={class:"d-flex align-center justify-center justify-sm-space-between flex-wrap gap-4"},Ot={class:"d-flex align-center gap-x-3"},zt={class:"text-4xl font-weight-medium"},It={class:"d-flex flex-column py-2",style:{"font-size":"14px"}},Ft={class:"text-sm text-disabled"},qt={key:0,class:"d-flex flex-wrap gap-2 my-5"},Et={key:1},Tt={key:0,class:"d-flex flex-wrap gap-2 my-5"},jt={key:1},Bt={__name:"EditProspectOpportunity",props:{opportunity:{type:Object,required:!0}},emits:["updateStageId","update:newProperty"],setup(k,{emit:D}){const a=k,f=D,{checkProcessForOpportunity:U}=ye(),{changeStatusByOpportunity:x,loadingOpportunity:V}=ie(),r=_(!1),c=()=>{r.value=!0},d=()=>{console.log("Se escucho el evento en EditProspectOpportunity"),f("update:newProperty")},w=async h=>{await x(h,ke.PRESALE.value,{}),f("updateStageId",h)},O=async h=>{console.log(`Procedimiento ${h.id} marcado como: ${h.pivot.is_check?"realizado":"no realizado"}`),await U(a.opportunity.id,h.id,{is_check:!h.pivot.is_check}),h.pivot.is_check=!h.pivot.is_check,f("updateStageId",a.opportunity.id)};return(h,P)=>{const y=ue("RouterLink"),p=ue("IconBtn");return n(),v(j,null,[l("div",St,[l("div",$t,[P[3]||(P[3]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Perfil ",-1)),l("div",Ut,[l("div",Ot,[l("span",zt,g(("avatarText"in h?h.avatarText:i(ze))(a.opportunity.customer.name)),1),l("div",It,[e(y,{to:{name:"apps-ecommerce-customer-details-id",params:{id:1}},class:"font-weight-base"},{default:t(()=>[C(g(a.opportunity.customer.name),1)]),_:1}),l("span",Ft,g(a.opportunity.customer.phone),1)]),l("div",null,[e(T,{color:"secondary",variant:"tonal",size:"small",onClick:c},{default:t(()=>P[2]||(P[2]=[C(" Editar Perfil ")])),_:1})])])])])]),l("div",null,[P[5]||(P[5]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Procesos ",-1)),a.opportunity.procedure&&a.opportunity.procedure.length>0?(n(),v("div",qt,[(n(!0),v(j,null,Q(a.opportunity.procedure,$=>(n(),v("div",{key:$.id},[e(X,{color:$.pivot.is_check?"primary":"secondary",variant:"outlined",class:"my-1",style:{cursor:"pointer"},"fill-dot":"",onClick:N=>O($)},{default:t(()=>[$.pivot.is_check?(n(),F(J,{key:0,icon:"tabler-check",class:"mr-2"})):B("",!0),C(" "+g($.title),1)]),_:2},1032,["color","onClick"]),e(te,{activator:"parent",location:"top"},{default:t(()=>[C(g($.pivot.is_check?"Deshacer Proceso":"Confirmar Proceso"),1)]),_:2},1024)]))),128))])):(n(),v("div",Et,P[4]||(P[4]=[l("span",null,"No hay procedimientos disponibles.",-1)])))]),l("div",null,[P[8]||(P[8]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Cotizaciones ",-1)),a.opportunity.quotes&&a.opportunity.quotes.length>0?(n(),v("div",Tt,[e(pe,{density:"compact",class:"text-no-wrap",style:{"font-size":"12px"}},{default:t(()=>[P[6]||(P[6]=l("thead",null,[l("tr",null,[l("th",null," Propiedad "),l("th",null," Fecha "),l("th",null," Monto "),l("th")])],-1)),l("tbody",null,[(n(!0),v(j,null,Q(a.opportunity.quotes,$=>(n(),v("tr",{key:$.id},[l("td",null,g($.properties[0].title),1),l("td",null,g($.created_at),1),l("td",null,g(("formatCurrency"in h?h.formatCurrency:i(le))($.amount)),1),l("td",null,[e(y,{to:{name:"quote-id",params:{id:$.id}}},{default:t(()=>[e(p,null,{default:t(()=>[e(J,{icon:"tabler-eye"})]),_:1})]),_:2},1032,["to"])])]))),128))])]),_:1})])):(n(),v("div",jt,P[7]||(P[7]=[l("span",null,"No hay cotizaciones disponibles.",-1)])))]),e(G,{class:"d-flex justify-center mt-4"},{default:t(()=>[e(y,{to:{name:"quote-add-quote"},class:"text-white"},{default:t(()=>[e(T,{color:"primary",class:"mx-1",variant:"tonal",size:"small"},{default:t(()=>P[9]||(P[9]=[C(" Generar Cotización ")])),_:1})]),_:1}),e(T,{color:"primary",class:"mx-auto",size:"small",disabled:i(V),loading:i(V),onClick:P[0]||(P[0]=$=>w(a.opportunity.id))},{default:t(()=>P[10]||(P[10]=[C(" Siguiente Etapa ")])),_:1},8,["disabled","loading"])]),_:1}),e(Be,{"is-dialog-visible":i(r),"onUpdate:isDialogVisible":P[1]||(P[1]=$=>M(r)?r.value=$:null),"opportunity-kanban":a.opportunity,"onUpdate:newProperty":d},null,8,["is-dialog-visible","opportunity-kanban"])],64)}}},Nt=async k=>await de(`/sale/paymentPlans/${k}/confirm`,{method:"PATCH"}),Rt=async(k,D)=>await de(`/sale/paymentPlans/${k}`,{method:"PATCH",body:D});function Ve(){const k=_(!1),D=_([]),a=_(null),f=_(null);return{loadingPaymentPlans:k,paymentPlan:f,error:a,paymentPlans:D,confirmPaymentPlans:async V=>{try{const r=await Nt(V);he("Actualizacion Exitosa","Se confirmo el pago")}catch(r){console.log(r)}},updatePaymentPlans:async(V,r)=>{k.value=!0,a.value=null;try{console.log(r);const c=await Rt(V,r);f.value=c.data,Me("¡Planes de pago actualizados exitosamente! ","Los planes de pago han sido modificados y guardados correctamente."),console.log(c)}catch(c){console.log(c),c.response&&c.response.status==422&&He("Advertencia","Faltan datos por Completar"),a.value=c.message}finally{k.value=!1}}}}const Lt={__name:"DeliveryForm",props:{isDialogVisible:{type:Boolean,required:!0},opportunity:{type:Object,required:!0}},emits:["update:isDialogVisible","updateDeliveryDate"],setup(k,{emit:D}){const a=k,f=D,{changeStatusByOpportunity:U}=ie(),x=d=>{f("update:isDialogVisible",d)},V=_(structuredClone(Z(a.opportunity)));se(a,()=>{V.value=structuredClone(Z(a.opportunity))});const r=async()=>{f("update:isDialogVisible",!1);try{await U(a.opportunity.id,5,{delivery_date:V.value.sales.delivery_date}),f("updateDeliveryDate",V.value.id)}catch(d){console.error("Error updating customer:",d)}},c=()=>{f("update:isDialogVisible",!1)};return(d,w)=>{const O=ce;return n(),F(fe,{"model-value":a.isDialogVisible,"max-width":"800","onUpdate:modelValue":x},{default:t(()=>[e(O,{onClick:w[0]||(w[0]=h=>d.$emit("update:isDialogVisible",!1))}),e(W,{class:"pa-sm-8 pa-5"},{default:t(()=>[e(me,{class:"text-h3 text-center"},{default:t(()=>w[2]||(w[2]=[C(" Confirmar Fecha ")])),_:1}),e(G,null,{default:t(()=>[e(G,null,{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"12",style:{"padding-block":"0","padding-inline":"8px"}},{default:t(()=>[e(re,{modelValue:i(V).sales.delivery_date,"onUpdate:modelValue":w[1]||(w[1]=h=>i(V).sales.delivery_date=h),label:"Fecha de Entrega",type:"date",rules:["requiredValidator"in d?d.requiredValidator:i(K)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(b,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:t(()=>[e(T,{onClick:r},{default:t(()=>w[3]||(w[3]=[C(" Pasar a Entrega ")])),_:1}),e(T,{color:"secondary",variant:"tonal",onClick:c},{default:t(()=>w[4]||(w[4]=[C(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Mt={key:0},Ht={__name:"PaymentPlanEdit",props:{isDialogVisible:{type:Boolean,required:!0},opportunity:{type:Object,required:!0},payment:{type:Object,required:!0}},emits:["update:isDialogVisible","updateDeliveryDate"],setup(k,{emit:D}){const a=k,f=D,{updatePaymentPlans:U}=Ve(),x=_(!1),V=s=>{f("update:isDialogVisible",s)},r=_(structuredClone(Z(a.payment))),c=_(structuredClone(Z(a.opportunity))),d=_([]);se(a,()=>{r.value=structuredClone(Z(a.payment)),c.value=structuredClone(Z(a.opportunity))});const w=()=>{d.value.push({amount:"",date:"",type:r.value.type})},O=s=>{d.value.splice(s,1)},h=ee(()=>d.value.reduce((s,m)=>{const R=parseFloat(m.amount)||0;return s+R},0)),P=ee(()=>d.value.length>0&&d.value.every(s=>s.amount&&s.date&&s.type)),y=ee(()=>{if(d.value.length===0)return!0;const s=d.value.reduce((A,Y)=>A+(parseFloat(Y.amount)||0),0),m=parseFloat(s),R=parseFloat(r.value.amount);return m===R}),p=ee(()=>d.value.length===0?!0:P.value&&y.value),$=async()=>{if(!y.value){Se("Validación fallida","La suma de las diferencias no es correcta");return}if(!p.value){alert("Por favor, completa todos los campos obligatorios.");return}x.value=!0;try{await U(r.value.id,{date:r.value.date,differData:d.value})}catch(s){console.error("Error updating customer:",s)}finally{f("updateDeliveryDate",c.value.id),f("update:isDialogVisible",!1),d.value=[],x.value=!1}},N=()=>{f("update:isDialogVisible",!1),d.value=[],errorMessage.value=""};return(s,m)=>{const R=ce;return n(),F(fe,{"model-value":a.isDialogVisible,"max-width":"800","onUpdate:modelValue":V},{default:t(()=>[e(R,{onClick:m[0]||(m[0]=A=>s.$emit("update:isDialogVisible",!1))}),e(W,{class:"pa-sm-8 pa-5"},{default:t(()=>[e(me,{class:"text-h3 text-center"},{default:t(()=>m[2]||(m[2]=[C(" Editar Pago ")])),_:1}),e(G,null,{default:t(()=>[e(H,{class:"mx-5"},{default:t(()=>[e(b,{cols:"6"},{default:t(()=>[l("h3",null," Monto a Pagar : "+g(i(le)(i(r).amount)),1)]),_:1}),e(b,{cols:"6"},{default:t(()=>[e(re,{modelValue:i(r).date,"onUpdate:modelValue":m[1]||(m[1]=A=>i(r).date=A),label:"Cambiar Fecha",type:"date",rules:["requiredValidator"in s?s.requiredValidator:i(K)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(W,{flat:"",class:"d-flex flex-column pa-5 px-5"},{default:t(()=>[(n(!0),v(j,null,Q(i(d),(A,Y)=>(n(),v("div",{key:A.id,class:"d-flex align-center my-4"},[e(re,{modelValue:A.amount,"onUpdate:modelValue":z=>A.amount=z,label:"Monto *",type:"number",class:"mr-4",outlined:"",rules:["requiredValidator"in s?s.requiredValidator:i(K)]},null,8,["modelValue","onUpdate:modelValue","rules"]),e(re,{modelValue:A.date,"onUpdate:modelValue":z=>A.date=z,label:"Fecha de Pago *",type:"date",class:"mr-3",outlined:"",rules:["requiredValidator"in s?s.requiredValidator:i(K)]},null,8,["modelValue","onUpdate:modelValue","rules"]),e(T,{color:"error",onClick:z=>O(Y)},{default:t(()=>[e(J,{icon:"tabler-square-x"})]),_:2},1032,["onClick"])]))),128)),i(d).length>0?(n(),v("div",Mt,[m[3]||(m[3]=l("strong",null,"Monto Restante:",-1)),C(" "+g(i(le)(i(r).amount-i(h))),1)])):B("",!0),e(T,{color:"primary",variant:"tonal",class:"mt-4",size:"small",onClick:w},{default:t(()=>m[4]||(m[4]=[C(" Diferir Pago ")])),_:1})]),_:1}),e(b,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:t(()=>[e(T,{loading:i(x),disabled:!i(p)||i(x),onClick:$},{default:t(()=>m[5]||(m[5]=[C(" Guardar ")])),_:1},8,["loading","disabled"]),e(T,{color:"error",variant:"tonal",onClick:N},{default:t(()=>m[6]||(m[6]=[C(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Qt={__name:"SalePaymentPlan",props:{isDialogVisible:{type:Boolean,required:!0},opportunity:{type:Object,required:!0},salesPayment:{type:Array,required:!0}},emits:["update:isDialogVisible","updateDeliveryDate"],setup(k,{emit:D}){const a=k,f=D;Ve();const U=c=>{f("update:isDialogVisible",c)},x=_(structuredClone(Z(a.opportunity)));se(a,()=>{x.value=structuredClone(Z(a.opportunity)),console.log("Sales Payment:",a.salesPayment)});const V=_([]),r=()=>{f("update:isDialogVisible",!1),V.value=[]};return(c,d)=>{const w=ce;return n(),F(fe,{"model-value":a.isDialogVisible,"max-width":"800","onUpdate:modelValue":U},{default:t(()=>[e(w,{onClick:d[0]||(d[0]=O=>c.$emit("update:isDialogVisible",!1))}),e(W,{class:"pa-sm-8 pa-5"},{default:t(()=>[e(me,{class:"text-h3 text-center"},{default:t(()=>d[1]||(d[1]=[C(" Confirmar Fecha ")])),_:1}),e(G,null,{default:t(()=>[e(G,null,{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"12",style:{"padding-block":"0","padding-inline":"8px"}},{default:t(()=>[l("span",null," Monto a Pagar : "+g(i(x)),1)]),_:1})]),_:1})]),_:1}),e(b,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:t(()=>[e(T,{onClick:c.onFormSubmit},{default:t(()=>d[2]||(d[2]=[C(" Guardar ")])),_:1},8,["onClick"]),e(T,{color:"error",variant:"tonal",onClick:r},{default:t(()=>d[3]||(d[3]=[C(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Gt={class:"text-h6"},Kt={class:"text-h6"},Yt={class:"text-h6"},Jt={class:"my-5"},Wt={key:0},Zt=["src"],Xt={class:"mb-4"},el=["onClick"],tl=["onClick"],ll={class:"my-5"},al={key:0,class:"d-flex flex-wrap gap-2 my-5"},ol={key:1},il={__name:"EditSaleOpportunity",props:{opportunity:{type:Object,required:!0}},emits:["updateStageId"],setup(k,{emit:D}){const a=k,f=D,{checkProcessForOpportunity:U}=ye(),{confirmPaymentPlans:x}=Ve(),{changeStatusByOpportunity:V,loadingOpportunity:r}=ie(),{SaleChangeSignature:c}=Ze(),d=_(!1),w=_(!1),O=_(!1),h=_(""),P=ee(()=>a.opportunity.sales.reduce((S,u)=>S+u.amount,0)),y=ee(()=>a.opportunity.sales.reduce((S,u)=>S+u.initial_fee,0)),p=ee(()=>P.value-y.value),$=()=>{O.value=!0},N=S=>{if(S.is_paid===1){Se("Advertencia","No se puede editar un pago ya realizado.");return}console.log("entro aqui"),w.value=!0,h.value={...S}},s=async S=>{f("updateStageId",S)},m=async S=>{console.log(`Procedimiento ${S.id} marcado como: ${S.pivot.is_check?"realizado":"no realizado"}`),await U(a.opportunity.id,S.id,{is_check:!S.pivot.is_check}),S.pivot.is_check=!S.pivot.is_check,f("updateStageId",a.opportunity.id)},R=async S=>{console.log(S),await x(S),f("updateStageId",a.opportunity.id)},A=async S=>{console.log("entra a firma"),await c(S),f("updateStageId",a.opportunity.id)},Y=async S=>{await V(S,5,{}),f("updateStageId",S)},z=async S=>{f("updateStageId",S)};return(S,u)=>(n(),v(j,null,[l("div",null,[e(W,null,{default:t(()=>[e(G,null,{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"4",class:"border rounded-sm mx-1"},{default:t(()=>[e(ae,{class:"font-weight-medium"},{default:t(()=>u[5]||(u[5]=[C(" Saldo ")])),_:1}),e(oe,{class:"text-disabled d-flex justify-between mt-1"},{default:t(()=>[l("span",Gt,g(("formatCurrency"in S?S.formatCurrency:i(le))(i(p))),1)]),_:1})]),_:1}),e(b,{cols:"3",class:"border rounded-sm mx-1"},{default:t(()=>[e(ae,{class:"font-weight-medium"},{default:t(()=>u[6]||(u[6]=[C(" Anticipo ")])),_:1}),e(oe,{class:"text-disabled d-flex justify-between mt-1"},{default:t(()=>[l("span",Kt,g(("formatCurrency"in S?S.formatCurrency:i(le))(i(y))),1)]),_:1})]),_:1}),e(b,{cols:"4",class:"border rounded-sm mx-1"},{default:t(()=>[e(ae,{class:"font-weight-medium"},{default:t(()=>u[7]||(u[7]=[C(" Precio Final ")])),_:1}),e(oe,{class:"text-disabled d-flex justify-between mt-1"},{default:t(()=>[l("span",Yt,g(("formatCurrency"in S?S.formatCurrency:i(le))(i(P))),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),l("div",Jt,[u[9]||(u[9]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Propiedades ",-1)),a.opportunity.sales.length>0?(n(),v("div",Wt,[(n(!0),v(j,null,Q(a.opportunity.sales,o=>(n(),v("div",{key:o.id},[e(H,null,{default:t(()=>[(n(!0),v(j,null,Q(o.properties,I=>(n(),F(b,{key:I.id,class:"d-flex align-center justify-between",cols:"12",md:"9"},{default:t(()=>[e(Oe,{size:"50",rounded:""},{default:t(()=>[l("img",{src:i(je),alt:"Logo pora",style:{"border-radius":"30%"}},null,8,Zt)]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(ae,{class:"font-weight-medium"},{default:t(()=>[C(g(I.project_title)+" | "+g(I.title),1)]),_:2},1024),e(oe,{class:"text-disabled d-flex justify-between mt-1"},{default:t(()=>[l("span",null,"$ "+g(I.pivot_price),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(ne,{modelValue:o.confirmation_signature,"onUpdate:modelValue":I=>o.confirmation_signature=I,"true-value":1,"false-value":0,onChange:I=>A(o.id)},{default:t(()=>[e(te,{activator:"parent",location:"top"},{default:t(()=>u[8]||(u[8]=[C(" Confirmar firma ")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]))),128))])):B("",!0)]),l("div",Xt,[u[12]||(u[12]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Anticipo ",-1)),a.opportunity.initial_payments&&a.opportunity.initial_payments.length>0?(n(),F(pe,{key:0,density:"compact",class:"text-no-wrap my-2",style:{"font-size":"12px"}},{default:t(()=>[u[11]||(u[11]=l("thead",null,[l("tr",null,[l("th",null," Propiedad "),l("th",null," Fecha "),l("th",null," Monto "),l("th",null," Action ")])],-1)),l("tbody",null,[(n(!0),v(j,null,Q(a.opportunity.initial_payments,o=>(n(),v("tr",{key:o.id},[l("td",null,g(o.property_title),1),l("td",null,g(o.date),1),l("td",null,g(o.amount),1),l("td",null,[e(H,null,{default:t(()=>[e(ne,{modelValue:o.is_paid,"onUpdate:modelValue":I=>o.is_paid=I,"true-value":1,"false-value":0,disabled:o.is_paid===1,onChange:I=>R(o.id)},{default:t(()=>[e(te,{activator:"parent",location:"top"},{default:t(()=>u[10]||(u[10]=[C(" Confirmar Pago ")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"]),o.is_paid===0?(n(),v("div",{key:0,"fill-dot":"",style:{cursor:"pointer"},onClick:I=>N(o)},[e(i(J),{size:"25",icon:"tabler-edit"})],8,el)):B("",!0)]),_:2},1024)])]))),128))])]),_:1})):B("",!0)]),l("div",null,[u[15]||(u[15]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Saldos ",-1)),a.opportunity.balance_payments&&a.opportunity.balance_payments.length>0?(n(),F(pe,{key:0,density:"compact",class:"text-no-wrap my-2",style:{"font-size":"12px"}},{default:t(()=>[u[14]||(u[14]=l("thead",null,[l("tr",null,[l("th",null," Propiedad "),l("th",null," Fecha "),l("th",null," Monto "),l("th",null," Action ")])],-1)),l("tbody",null,[(n(!0),v(j,null,Q(a.opportunity.balance_payments,o=>(n(),v("tr",{key:o.id},[l("td",null,g(o.property_title),1),l("td",null,g(o.date),1),l("td",null,g(o.amount),1),l("td",null,[e(H,null,{default:t(()=>[e(ne,{modelValue:o.is_paid,"onUpdate:modelValue":I=>o.is_paid=I,"true-value":1,"false-value":0,disabled:o.is_paid===1,onChange:I=>R(o.id)},{default:t(()=>[e(te,{activator:"parent",location:"top"},{default:t(()=>u[13]||(u[13]=[C(" Confirmar Pago ")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"]),o.is_paid===0?(n(),v("div",{key:0,"fill-dot":"",style:{cursor:"pointer"},onClick:I=>N(o)},[e(i(J),{size:"25",icon:"tabler-edit"})],8,tl)):B("",!0)]),_:2},1024)])]))),128))])]),_:1})):B("",!0)]),l("div",ll,[u[17]||(u[17]=l("span",{style:{"font-size":"14px","font-weight":"500"}}," Procesos ",-1)),a.opportunity.procedure&&a.opportunity.procedure.length>0?(n(),v("div",al,[(n(!0),v(j,null,Q(a.opportunity.procedure,o=>(n(),v("div",{key:o.id},[e(X,{color:o.pivot.is_check?"primary":"secondary",variant:"outlined",class:"my-1",style:{cursor:"pointer"},"fill-dot":"",onClick:I=>m(o)},{default:t(()=>[o.pivot.is_check?(n(),F(i(J),{key:0,icon:"tabler-check",class:"mr-2"})):B("",!0),C(" "+g(o.title),1)]),_:2},1032,["color","onClick"]),e(te,{activator:"parent",location:"top"},{default:t(()=>[C(g(o.pivot.is_check?"Deshacer Proceso":"Confirmar Proceso"),1)]),_:2},1024)]))),128))])):(n(),v("div",ol,u[16]||(u[16]=[l("span",null,"No hay procedimientos disponibles.",-1)])))]),e(G,{class:"d-flex mt-4"},{default:t(()=>[e(T,{color:"primary",variant:"tonal",class:"mx-auto",size:"small",onClick:$},{default:t(()=>u[18]||(u[18]=[C(" Generar Venta ")])),_:1}),e(T,{color:"primary",class:"mx-auto",size:"small",onClick:u[0]||(u[0]=o=>Y(a.opportunity.id))},{default:t(()=>u[19]||(u[19]=[C(" Siguiente Etapa ")])),_:1})]),_:1}),e(Lt,{"is-dialog-visible":i(d),"onUpdate:isDialogVisible":u[1]||(u[1]=o=>M(d)?d.value=o:null),opportunity:a.opportunity,onUpdateDeliveryDate:z},null,8,["is-dialog-visible","opportunity"]),e(Ht,{"is-dialog-visible":i(w),"onUpdate:isDialogVisible":u[2]||(u[2]=o=>M(w)?w.value=o:null),payment:i(h),opportunity:a.opportunity,onUpdateDeliveryDate:z},null,8,["is-dialog-visible","payment","opportunity"]),e(xe,{"is-dialog-visible":i(O),"onUpdate:isDialogVisible":u[3]||(u[3]=o=>M(O)?O.value=o:null),opportunity:a.opportunity,stage:"SALE",onRegisterSale:s},null,8,["is-dialog-visible","opportunity"]),e(Qt,{"is-dialog-visible":S.openSaleEditPaymentPlan,"onUpdate:isDialogVisible":u[4]||(u[4]=o=>S.openSaleEditPaymentPlan=o),opportunity:a.opportunity,"sales-payment":S.salePaymentPlan,onUpdateDeliveryDate:z},null,8,["is-dialog-visible","opportunity","sales-payment"])],64))}},sl=async k=>await de(`/customer/${k}/bitacora`,{method:"GET"});function nl(){const k=_(!1),D=_([]);return Qe(),_(0),{getBitacorabyId:async f=>{try{const U=await sl(f);D.value=U,console.log(U)}catch(U){console.error(U)}},loadingBitacora:k,bitacoras:ee(()=>D.value)}}const rl={class:"my-5"},ul={class:"d-flex justify-space-between align-center gap-2 flex-wrap"},dl={class:"app-timeline-title"},pl={class:"app-timeline-meta"},cl={class:"app-timeline-text"},ml={key:0,class:"empty-state my-2"},fl={__name:"BitacoraCustomer",props:{customer:{type:String,required:!0}},setup(k){const D=k,{bitacoras:a,getBitacorabyId:f}=nl();Ue(async()=>{await f(D.customer)});const U=x=>{switch(x){case 1:return"Visita";case 2:return"Llamada";case 3:return"Cotización";default:return"Otro"}};return(x,V)=>(n(),v("div",null,[e(W,{title:"Historial del cliente"},{default:t(()=>[e(G,null,{default:t(()=>[e(H,{class:"d-flex justify-space-between"},{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[l("div",rl,[e(Xe,{side:"end",align:"start","line-inset":"8","truncate-line":"both",density:"compact"},{default:t(()=>[(n(!0),v(j,null,Q(i(a),r=>(n(),F(et,{key:r.id,size:"x-small","dot-color":"warning"},{default:t(()=>[l("div",ul,[l("span",dl,g(r.log_name),1),l("span",pl,g(("formatDate"in x?x.formatDate:i(Ke))(r.created_at)),1)]),l("div",cl,[l("p",null,g(r.description),1),r.properties.activity?(n(),F(X,{key:0},{default:t(()=>[C(g(U(r.properties.activity.type_activity_id)),1)]),_:2},1024)):B("",!0)])]),_:2},1024))),128))]),_:1}),!i(a)||i(a).length===0?(n(),v("div",ml,V[0]||(V[0]=[l("p",null,"No hay actividades registradas para este cliente.",-1)]))):B("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]))}},yl={__name:"DrawerBitacora",props:{isDrawerOpen:{type:Boolean,required:!0},customer:{type:String,required:!1}},emits:["update:isDrawerOpen"],setup(k,{emit:D}){const a=k,f=D,U=x=>{f("update:isDrawerOpen",x)};return(x,V)=>(n(),F(qe,{temporary:"",width:500,location:"end",class:"scrollable-content","model-value":a.isDrawerOpen,"onUpdate:modelValue":U},{default:t(()=>[e(i(Fe),{options:{wheelPropagation:!1}},{default:t(()=>[e(fl,{customer:"1"})]),_:1})]),_:1},8,["model-value"]))}};const vl={__name:"SellerReport",setup(k){return _([{title:"Actividad 1",date:"2024-10-09",status:"Pendiente"},{title:"Actividad 2",date:"2024-10-10",status:"Completada"},{title:"Actividad 3",date:"2024-10-11",status:"En Progreso"}]),(D,a)=>(n(),F(G,null,{default:t(()=>a[0]||(a[0]=[l("p",null,"No hay actividades seleccionadas. Aquí tienes un resumen de las actividades:",-1)])),_:1}))}},gl=Ee(vl,[["__scopeId","data-v-c9cbe3f1"]]),_l={__name:"CustomerHistory",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(k,{emit:D}){const a=k,f=D,U=_(!1),x=_(),V=_(""),r=_(""),c=_(""),d=_(""),w=_(),O=_(""),h=_(),P=_(),y=_(),p=()=>{f("update:isDrawerOpen",!1),Ce(()=>{var s,m;(s=x.value)==null||s.reset(),(m=x.value)==null||m.resetValidation()})},$=()=>{var s;(s=x.value)==null||s.validate().then(({valid:m})=>{m&&(f("userData",{id:0,fullName:V.value,company:d.value,role:h.value,country:w.value,contact:O.value,email:c.value,currentPlan:P.value,status:y.value,avatar:"",billing:"Auto Debit"}),f("update:isDrawerOpen",!1),Ce(()=>{var R,A;(R=x.value)==null||R.reset(),(A=x.value)==null||A.resetValidation()}))})},N=s=>{f("update:isDrawerOpen",s)};return(s,m)=>{const R=tt,A=_e,Y=be;return n(),F(qe,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":a.isDrawerOpen,"onUpdate:modelValue":N},{default:t(()=>[e(R,{title:"Historial del Cliente",onCancel:p}),e(i(Fe),{options:{wheelPropagation:!1}},{default:t(()=>[e(W,{flat:""},{default:t(()=>[e(G,null,{default:t(()=>[e(Ie,{ref_key:"refForm",ref:x,modelValue:i(U),"onUpdate:modelValue":m[9]||(m[9]=z=>M(U)?U.value=z:null),onSubmit:$e($,["prevent"])},{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[e(A,{modelValue:i(V),"onUpdate:modelValue":m[0]||(m[0]=z=>M(V)?V.value=z:null),rules:["requiredValidator"in s?s.requiredValidator:i(K)],label:"Full Name",placeholder:"John Doe"},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(A,{modelValue:i(r),"onUpdate:modelValue":m[1]||(m[1]=z=>M(r)?r.value=z:null),rules:["requiredValidator"in s?s.requiredValidator:i(K)],label:"Username",placeholder:"Johndoe"},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(A,{modelValue:i(c),"onUpdate:modelValue":m[2]||(m[2]=z=>M(c)?c.value=z:null),rules:["requiredValidator"in s?s.requiredValidator:i(K),"emailValidator"in s?s.emailValidator:i(Re)],label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(A,{modelValue:i(d),"onUpdate:modelValue":m[3]||(m[3]=z=>M(d)?d.value=z:null),rules:["requiredValidator"in s?s.requiredValidator:i(K)],label:"Company",placeholder:"PixInvent"},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(Y,{modelValue:i(w),"onUpdate:modelValue":m[4]||(m[4]=z=>M(w)?w.value=z:null),label:"Select Country",placeholder:"Select Country",rules:["requiredValidator"in s?s.requiredValidator:i(K)],items:["USA","UK","India","Australia"]},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(A,{modelValue:i(O),"onUpdate:modelValue":m[5]||(m[5]=z=>M(O)?O.value=z:null),type:"number",rules:["requiredValidator"in s?s.requiredValidator:i(K)],label:"Contact",placeholder:"+1-541-754-3010"},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(Y,{modelValue:i(h),"onUpdate:modelValue":m[6]||(m[6]=z=>M(h)?h.value=z:null),label:"Select Role",placeholder:"Select Role",rules:["requiredValidator"in s?s.requiredValidator:i(K)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(Y,{modelValue:i(P),"onUpdate:modelValue":m[7]||(m[7]=z=>M(P)?P.value=z:null),label:"Select Plan",placeholder:"Select Plan",rules:["requiredValidator"in s?s.requiredValidator:i(K)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(Y,{modelValue:i(y),"onUpdate:modelValue":m[8]||(m[8]=z=>M(y)?y.value=z:null),label:"Select Status",placeholder:"Select Status",rules:["requiredValidator"in s?s.requiredValidator:i(K)],items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Pending",value:"pending"}]},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(T,{type:"submit",class:"me-3"},{default:t(()=>m[10]||(m[10]=[C(" Submit ")])),_:1}),e(T,{type:"reset",variant:"outlined",color:"secondary",onClick:p},{default:t(()=>m[11]||(m[11]=[C(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},bl={class:"d-flex justify-space-between align-center"},Vl={class:"mb-2"},wl={style:{"font-size":"14px","font-weight":"500"}},Cl={style:{"font-size":"12px","font-weight":"500"}},Pl={__name:"AddActivity",props:{activitiesData:{type:Object,required:!0,default:()=>({title:"",description:"",schedule_at:""})},isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","refreshActivities"],setup(k,{emit:D}){const a=k,f=D,U=_(!1);_(!1);const x=_("radio-1"),V=_(!1),r=()=>{V.value=!0},c=_({title:"",description:"",type_activity_id:null,opportunity_id:null,assigned_to:null,scheduled_at:null,status:"COMPLETED"}),{completedActivityAndRegister:d,getallTypeActivities:w,typeActivities:O,loadingActivity:h}=Ae(),{getOpportunitybyId:P,opportunity:y}=ie(),p=_(structuredClone(Z(a.activitiesData))),$=u=>{console.log("esta consultando de nuevo despues de cambiar etapa "),P(u)};se(a,()=>{p.value=structuredClone(Z(a.activitiesData)),P(p.value.opportunity_id),N()});const N=async()=>{await w()},s=()=>{P(p.value.opportunity_id)},m=()=>{f("update:isDrawerOpen",!1),c.value={title:null,description:null,type_activity_id:null,scheduled_at:null,opportunity_id:null,assigned_to:null,status:"COMPLETED"},f("refreshActivities")},R=async()=>{let u="";x.value==="radio-1"?u="COMPLETED":x.value==="radio-2"&&(u="CANCELLED"),d(p.value.id,{title:c.value.title,description:c.value.description,type_activity_id:c.value.type_activity_id,scheduled_at:c.value.scheduled_at,assigned_to:y.value.user_id,property_id:y.value.property_id,opportunity_id:y.value.id,status:u}),m()},A=async()=>{we.fire({title:"Quieres dar de baja al cliente ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"confirmar"}).then(u=>{u.isConfirmed&&(Ne(p.value.id),m(),we.fire({text:"EL cliente fue dado de baja",icon:"success"}))})},Y=async()=>{f("update:isDrawerOpen",!1),f("refreshActivities")},z=()=>{console.log("Se escucho el evento en AddActivity"),f("refreshActivities")},S=u=>{const o=new Date(u),I=o.getDate(),L=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][o.getMonth()],E=o.getHours().toString().padStart(2,"0"),ve=o.getMinutes().toString().padStart(2,"0");return`${I} de ${L}, ${E}:${ve}`};return(u,o)=>{const I=_e,q=Le,L=De;return n(),v(j,null,[e(H,{class:"d-flex justify-space-between"},{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[k.isDrawerOpen?(n(),F(W,{key:0},{default:t(()=>[e(G,null,{default:t(()=>[e(Te,{class:"mx-2 my-2"},{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"12",sm:"5"},{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[l("div",bl,[o[8]||(o[8]=l("span",{style:{"font-size":"18px","font-weight":"500"}}," Actividad ",-1)),e(X,{color:"warning",onClick:r},{default:t(()=>o[7]||(o[7]=[C(" historial ")])),_:1})])]),_:1}),e(b,{cols:"12"},{default:t(()=>[l("div",Vl,[l("span",wl,g(a.activitiesData.title)+" • "+g(S(a.activitiesData.scheduled_at)),1),o[9]||(o[9]=l("br",null,null,-1)),l("span",Cl,g(a.activitiesData.description)+" "+g(i(y).customer_id),1)]),e(at,{modelValue:i(x),"onUpdate:modelValue":o[0]||(o[0]=E=>M(x)?x.value=E:null),style:{"font-size":"14px"},inline:""},{default:t(()=>[o[10]||(o[10]=l("span",{class:"my-1"}," ¿Se realizó? ",-1)),e(Pe,{label:"Si",value:"radio-1",density:"compact",class:"mx-2"}),e(Pe,{label:"No",value:"radio-2",class:"mx-2",density:"compact"})]),_:1},8,["modelValue"]),e(ot,{class:"mt-2"})]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(I,{modelValue:i(c).title,"onUpdate:modelValue":o[1]||(o[1]=E=>i(c).title=E),label:"Título de la actividad",placeholder:"..."},null,8,["modelValue"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(be,{modelValue:i(c).type_activity_id,"onUpdate:modelValue":o[2]||(o[2]=E=>i(c).type_activity_id=E),label:"Tipo de actividad",placeholder:"Selecciona el tipo de actividad",items:i(O).map(E=>({title:E.name,value:E.id}))},null,8,["modelValue","items"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(q,{modelValue:i(c).scheduled_at,"onUpdate:modelValue":o[3]||(o[3]=E=>i(c).scheduled_at=E),label:"Seleccione la fecha y hora",placeholder:"Seleccione la fecha y hora",config:{enableTime:!0,dateFormat:"Y-m-d H:i"},rules:["requiredValidator"in u?u.requiredValidator:i(K)]},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:t(()=>[e(L,{modelValue:i(c).description,"onUpdate:modelValue":o[4]||(o[4]=E=>i(c).description=E),label:"Descripción",rows:"3",rules:["requiredValidator"in u?u.requiredValidator:i(K)]},null,8,["modelValue","rules"])]),_:1}),e(b,null,{default:t(()=>[e(T,{color:"primary",class:"mx-auto",size:"small",loading:i(h),disabled:i(h),onClick:R},{default:t(()=>o[11]||(o[11]=[C(" Crear Actividad ")])),_:1},8,["loading","disabled"]),e(T,{color:"primary",class:"mx-1",variant:"tonal",size:"small",onClick:A},{default:t(()=>o[12]||(o[12]=[C(" Dar de Baja ")])),_:1})]),_:1})]),_:1})]),_:1}),e(b,{cols:"12",sm:"7",style:{"align-items":"center"}},{default:t(()=>[e(H,{class:"mb-2"},{default:t(()=>[e(b,{cols:"6"},{default:t(()=>o[13]||(o[13]=[l("span",{style:{"font-size":"18px","font-weight":"500"}}," Etapa ",-1)])),_:1}),e(b,{cols:"12",md:"6",class:"d-flex justify-end align-center"},{default:t(()=>[e(X,{label:"",color:"primary"},{default:t(()=>[C(g(i(y).stage.title),1)]),_:1})]),_:1})]),_:1}),i(y).stage_id===2?(n(),F(Bt,{key:0,opportunity:i(y),onUpdateStageId:$,"onUpdate:newProperty":z},null,8,["opportunity"])):B("",!0),i(y).stage_id===3?(n(),F(ht,{key:1,opportunity:i(y),onUpdateStageId:$,"onUpdate:newProperty":z},null,8,["opportunity"])):B("",!0),i(y).stage_id===4?(n(),F(il,{key:2,opportunity:i(y),onRefreshActivities:s,onUpdateStageId:$},null,8,["opportunity"])):B("",!0),i(y).stage_id===5?(n(),F(vt,{key:3,opportunity:i(y),onRefreshActivities:s,onUpdateStageId:$,onComplet:Y},null,8,["opportunity"])):B("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(n(),F(W,{key:1,title:"Reporte de Actividades"},{default:t(()=>[e(gl)]),_:1}))]),_:1}),e(b,{cols:"12",md:"6"},{default:t(()=>[e(_l,{"is-drawer-open":i(U),"onUpdate:isDrawerOpen":o[5]||(o[5]=E=>M(U)?U.value=E:null)},null,8,["is-drawer-open"])]),_:1})]),_:1}),e(yl,{"is-drawer-open":i(V),"onUpdate:isDrawerOpen":o[6]||(o[6]=E=>M(V)?V.value=E:null),customer:i(y).customer_id},null,8,["is-drawer-open","customer"])],64)}}};const kl={class:"mt-2 mx-3"},xl={style:{"font-size":"14px"}},Al={key:0,class:"no-activities-message d-flex flex-column justify-center align-center",style:{"min-block-size":"200px","text-align":"center"}},Dl=["onClick"],hl={class:"mx-2"},Sl={class:"d-flex justify-content-between",style:{"font-size":"0.9em"}},$l={__name:"list",setup(k){const D=_(""),a=_("Anteriores");_(["Todos","PORA"]),_("Todos");const{getallActivitiesByAsesorFecha:f,getallActivitiesByFechaPast:U,getallActivitiesByFechaFuture:x,activities:V,activitiesPast:r,activitiesFuture:c}=Ae(),d=_(""),w=Ge("userData").value,O=_(!0),h=_([]),P=_([]),y=_([]),p=async()=>{await f(w.id),h.value=V.value},$=async()=>{await U(w.id),P.value=r.value},N=async()=>{await x(w.id),y.value=c.value};Ue(async()=>{await p(),await $(),await N(),O.value=!1});const s=_(!1),m=u=>{s.value=!0,d.value={...u}},R=async()=>{O.value=!0,await p(),await $(),await N(),O.value=!1},A=ee(()=>[{tabName:"Anteriores",icon:"tabler-calendar",actividades:P,badge:P.value.length},{tabName:"Hoy",icon:"tabler-edit",actividades:h,badge:h.value.length},{tabName:"Futuros",icon:"tabler-calendar",actividades:y,badge:y.value.length}]),Y=[{type:"Visita",icon:"tabler-current-location"},{type:"Llamada",icon:"tabler-phone"},{type:"Cotizacion",icon:"tabler-cash"},{type:"Otro",icon:"tabler-table"}],z=u=>{const o=Y.find(I=>I.type===u);return o?o.icon:"tabler-default"},S=u=>{const o=new Date(u),I=o.getDate(),L=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][o.getMonth()],E=o.getHours().toString().padStart(2,"0"),ve=o.getMinutes().toString().padStart(2,"0");return`${I} de ${L}, ${E}:${ve}`};return se(D,u=>{const o=I=>I.filter(q=>{const L=q.name_opportunity.toLowerCase().includes(u.toLowerCase()),E=q.phone_opportunity.toLowerCase().includes(u.toLowerCase());return L||E});u.length>2?(h.value=o(V.value),P.value=o(r.value),y.value=o(c.value)):(h.value=V.value,P.value=r.value,y.value=c.value)}),(u,o)=>{const I=ue("VCircularProgress");return n(),F(H,{class:"match-height",style:{display:"flex","block-size":"100vh"}},{default:t(()=>[e(b,{cols:"12",md:"4",style:{display:"flex","flex-direction":"column"}},{default:t(()=>[e(W,{class:"flex-grow-1"},{default:t(()=>[e(me,{class:"d-flex justify-between align-center flex-wrap"},{default:t(()=>[o[5]||(o[5]=l("h4",{class:"mt-5"}," Mis Actividades ",-1)),l("div",kl,[e(re,{modelValue:D.value,"onUpdate:modelValue":o[0]||(o[0]=q=>D.value=q),placeholder:"Buscar actividad...",class:"search-field",variant:"plain","hide-details":"",dense:"","prepend-inner-icon":"tabler-search"},null,8,["modelValue"])])]),_:1}),e(it,{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=q=>a.value=q),grow:""},{default:t(()=>[(n(!0),v(j,null,Q(A.value,q=>(n(),F(st,{key:q.tabName},{default:t(()=>[l("span",xl,g(q.tabName),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),o[11]||(o[11]=l("br",null,null,-1)),e(G,{style:{"flex-grow":"1","overflow-y":"auto"}},{default:t(()=>[O.value?(n(),F(nt,{key:0,absolute:"",opacity:"0.7"},{default:t(()=>[e(I,{indeterminate:"",size:"70"})]),_:1})):B("",!0),e(Te,{modelValue:a.value,"onUpdate:modelValue":o[2]||(o[2]=q=>a.value=q),class:"disable-tab-transition",style:{"max-block-size":"500px","overflow-y":"auto"}},{default:t(()=>[(n(!0),v(j,null,Q(A.value,q=>(n(),F(lt,{key:q.tabName,value:q.tabName},{default:t(()=>[q.actividades.value.length===0?(n(),v("div",Al,[e(J,{size:"64",color:"grey",icon:"tabler-calendar-off",class:"mb-4",style:{animation:"bounce 1s infinite"}}),o[6]||(o[6]=l("div",{style:{color:"#888","font-size":"1.2em"}}," ¡No tienes actividades pendientes! ",-1)),o[7]||(o[7]=l("div",{style:{color:"#aaa","font-size":"0.9em","margin-block-start":"8px"}}," ¡Relájate y disfruta tu día! ",-1))])):(n(!0),v(j,{key:1},Q(q.actividades.value,L=>(n(),v("div",{key:L.id,"fill-dot":"",class:"border mb-2 rounded-sm py-2",style:{cursor:"pointer"},onClick:E=>m(L)},[e(ge,null,{default:t(()=>[e(H,null,{default:t(()=>[e(b,{cols:"12",md:"2",style:{"padding-inline-end":"0"}},{default:t(()=>[e(X,{class:"d-flex justify-center align-center",style:{display:"inline-flex","border-radius":"4px","block-size":"36px","inline-size":"36px"}},{default:t(()=>[e(J,{size:"25",icon:"tabler-home"})]),_:1})]),_:1}),L.project_name?(n(),F(b,{key:0,cols:"12",md:"5",class:"d-flex flex-column align-start",style:{"padding-inline-start":"0"}},{default:t(()=>[e(oe,{class:"text-left"},{default:t(()=>[l("strong",null,g(L.property_title),1)]),_:2},1024),e(ae,{class:"font-weight-medium text-left"},{default:t(()=>[l("span",null,"$ "+g(L.price),1)]),_:2},1024)]),_:2},1024)):B("",!0),L.project_name?B("",!0):(n(),F(b,{key:1,cols:"12",md:"5"},{default:t(()=>[e(oe,{class:"text-left"},{default:t(()=>o[8]||(o[8]=[l("strong",{style:{"font-size":"12px"}}," Departamento ",-1)])),_:1}),e(ae,{class:"font-weight-medium text-left"},{default:t(()=>o[9]||(o[9]=[l("span",null,"Indefinido",-1)])),_:1})]),_:1})),e(b,{cols:"12",md:"5",class:"d-flex justify-end align-center"},{default:t(()=>[e(X,{label:"",color:"primary",class:"ml-auto",style:{"font-size":"10px"}},{default:t(()=>[C(g(L.stage),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(ge,{class:""},{default:t(()=>[e(X,{label:"",color:"secondary",class:"w-100 h-48"},{default:t(()=>[e(J,{size:"20",icon:z(L.type_activity)},null,8,["icon"]),l("div",hl,g(L.type_activity)+"   •   "+g(L.name_opportunity),1)]),_:2},1024)]),_:2},1024),e(ge,null,{default:t(()=>[l("div",Sl,[o[10]||(o[10]=l("div",{style:{"flex-grow":"1"}}," Ver ",-1)),l("div",null,g(S(L.scheduled_at)),1)])]),_:2},1024)],8,Dl))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(b,{cols:"12",md:"8",style:{display:"flex","flex-direction":"column"}},{default:t(()=>[e(Pl,{"is-drawer-open":s.value,"onUpdate:isDrawerOpen":o[3]||(o[3]=q=>s.value=q),"activities-data":d.value,class:"flex-grow-1",onRefreshActivities:R,onLoaded:o[4]||(o[4]=q=>O.value=!1)},null,8,["is-drawer-open","activities-data"])]),_:1})]),_:1})}}},Ba=Ee($l,[["__scopeId","data-v-a55b93d4"]]);export{Ba as default};
