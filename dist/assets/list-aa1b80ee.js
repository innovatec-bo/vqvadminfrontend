import{_ as F}from"./AppTextField-6f740df4.js";import{_ as M}from"./AppSelect-ccf756d5.js";import{_ as q}from"./EditPropertyDialog-099a7334.js";import{u as G}from"./useBillboard-22e08944.js";import{f as H}from"./currencyFormatter-92ad4b3c.js";import{p as Q}from"./paginationMeta-4ad053a4.js";import{l as J}from"./lodash-d67cab74.js";import{V as K}from"./VCard-b8ab7ef2.js";import{V as W}from"./VCardText-974f1364.js";import{V as X}from"./VSpacer-ded672f5.js";import{r as v,w as Y,a as E,o as V,c as b,b as o,e as r,n as a,a0 as p,d as n,x as y,a4 as g,v as d,z as U,s as B,$ as P}from"./index-a54c57b2.js";import{V as D}from"./VDivider-18f44d6d.js";import{V as Z}from"./VDataTableServer-ab78b798.js";import{V as ee}from"./VChip-5a84b8f9.js";import{V as te}from"./VPagination-d1c3ffca.js";import"./form-87f468b6.js";import"./VTextField-4d59e4f8.js";/* empty css                   */import"./VCounter-9184ef99.js";import"./VImg-24ae3b8f.js";import"./VField-e400f246.js";import"./easing-9f15041e.js";import"./VInput-39bbda74.js";import"./forwardRefs-8348545e.js";import"./VSelect-718a4a4c.js";import"./VList-8e53c877.js";import"./ssrBoot-0af201ab.js";import"./VAvatar-a060005e.js";import"./dialog-transition-e1dfb8e6.js";import"./VMenu-4a4865a4.js";import"./VOverlay-55c698d2.js";import"./lazy-67a427f9.js";import"./scopeId-6c78f01e.js";import"./VCheckboxBtn-d46ea3f4.js";import"./VSelectionControl-d56c1c32.js";import"./AppDateTimePicker-fd1d1008.js";import"./DialogCloseBtn-795d7e2c.js";import"./api-f4900d91.js";import"./index-9c720871.js";import"./constants-1eb97e20.js";import"./notifications-cae4d01c.js";import"./VForm-46f40c9a.js";import"./VRow-db7839b8.js";import"./VCol-e110b22d.js";import"./VDialog-b5a48363.js";import"./VDataTable-b47a1761.js";import"./VTable-d2336548.js";import"./filter-97072b4a.js";const oe={class:"text-body-1"},ae={class:"d-flex align-center flex-wrap gap-4"},re={class:"d-flex align-center gap-4"},le={class:"text-capitalize"},ie={key:0,class:"text-capitalize font-weight-medium"},se={key:1,class:"text-capitalize font-weight-medium"},ne={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},pe={class:"text-sm text-disabled mb-0"},lt={__name:"list",setup(me){const{allBillboard:N,exportPropertyExcel:I,properties:u,property:k,totalProperties:c,removeProperty:z}=G(),m=v(),i=v(20),s=v(1),f=v(!1),T=l=>{s.value=l.page,i.value=l.itemsPerPage},A=[{title:"Nombre",key:"name"},{title:"Ubicacion",key:"location"},{title:"Tamanio",key:"size"},{title:"Estado",key:"status"},{title:"Precio",key:"price_per_month"},{title:"Departamento",key:"billboard.city.department"},{title:"Ciudad",key:"billboard.city.name"},{title:"Accion",key:"actions",sortable:!1}],h=()=>{N({itemsPerPage:i.value,page:s.value,search:m.value})},O=J.debounce(h,300);Y([m,i,s],O,{immediate:!0});const w=l=>{switch(l){case"available":return{color:"success",text:"DISPONIBLE"};case"reserved":return{color:"warning",text:"RESERVADO"};case"rented":return{color:"error",text:"RENTADO"};case"inactive":return{color:"error",text:"INACTIVO"};default:return{color:"primary",text:"NOTHING"}}},S=async l=>{await z(l),h()},$=async l=>{f.value=!0,k.value={...l}},R=l=>{const t=u.value.findIndex(_=>_.id===l.id);t!==-1&&(u.value[t]={...l})},L=async()=>{await I()};return(l,t)=>{const _=F,C=E("RouterLink"),x=E("IconBtn");return V(),b("section",null,[o(K,null,{default:r(()=>[o(W,{class:"d-flex flex-wrap gap-4"},{default:r(()=>[n("div",null,[t[6]||(t[6]=n("h5",{class:"text-h5"}," Vallas ",-1)),n("div",oe," En total son "+y(a(c))+" Vallas. ",1)]),o(X),n("div",ae,[o(M,{modelValue:a(i),"onUpdate:modelValue":t[0]||(t[0]=e=>p(i)?i.value=e:null),density:"compact",items:[5,10,20,50,100]},null,8,["modelValue"]),o(_,{modelValue:a(m),"onUpdate:modelValue":t[1]||(t[1]=e=>p(m)?m.value=e:null),placeholder:"Buscar...",density:"compact",style:{"inline-size":"12.5rem"}},null,8,["modelValue"]),o(g,{"prepend-icon":"tabler-screen-share",variant:"tonal",color:"secondary",onClick:L},{default:r(()=>t[7]||(t[7]=[d(" Export ")])),_:1}),o(C,{to:{name:"billboards-register"}},{default:r(()=>[o(g,null,{default:r(()=>t[8]||(t[8]=[d(" Agregar Valla ")])),_:1})]),_:1})])]),_:1}),o(D),o(a(Z),{"items-per-page":a(i),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>p(i)?i.value=e:null),page:a(s),"onUpdate:page":t[4]||(t[4]=e=>p(s)?s.value=e:null),items:a(u),headers:A,"items-length":a(i).value===-1?a(u).value.length:a(c).valueOf,class:"text-no-wrap","onUpdate:options":T},{"item.base_price":r(({item:e})=>[n("div",re,[n("span",le,y(a(H)(e.base_price)),1)])]),"item.typeProperty":r(({item:e})=>[e.parking?(V(),b("span",ie,"Parqueo")):U("",!0),e.departament?(V(),b("span",se,"Departamento")):U("",!0)]),"item.status":r(({item:e})=>[o(ee,{label:"",size:"small",class:"text-capitalize",color:w(e.status).color},{default:r(()=>[d(y(w(e.status).text),1)]),_:2},1032,["color"])]),bottom:r(()=>[o(D),n("div",ne,[n("p",pe,y(a(Q)({page:a(s),itemsPerPage:a(i)},a(c))),1),o(te,{modelValue:a(s),"onUpdate:modelValue":t[2]||(t[2]=e=>p(s)?s.value=e:null),length:Math.ceil(a(c)/a(i)),"total-visible":l.$vuetify.display.xs?1:7},{prev:r(e=>[o(g,B({variant:"tonal",color:"default"},e,{icon:!1}),{default:r(()=>t[9]||(t[9]=[d(" Anterior ")])),_:2},1040)]),next:r(e=>[o(g,B({variant:"tonal",color:"default"},e,{icon:!1}),{default:r(()=>t[10]||(t[10]=[d(" Siguiente ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),"item.actions":r(({item:e})=>[o(x,null,{default:r(()=>[o(C,{to:{name:"realty-property-id",params:{id:e.id}}},{default:r(()=>[o(P,{icon:"tabler-eye"})]),_:2},1032,["to"])]),_:2},1024),o(x,null,{default:r(()=>[o(P,{icon:"tabler-edit",onClick:j=>$(e)},null,8,["onClick"])]),_:2},1024),o(x,{onClick:j=>S(e.id)},{default:r(()=>[o(P,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(q,{"is-dialog-visible":a(f),"onUpdate:isDialogVisible":t[5]||(t[5]=e=>p(f)?f.value=e:null),property:a(k),onPropertyUpdated:R},null,8,["is-dialog-visible","property"])])}}};export{lt as default};
