<<<<<<<< HEAD:dist/assets/list-conversation-215482c8.js
import{_ as M}from"./AppSelect-5590ac48.js";import{_ as N}from"./AppTextField-e77db581.js";import{u as j}from"./useConversation-b4dea85f.js";import{p as T}from"./paginationMeta-4ad053a4.js";import{l as B}from"./lodash-d024dcaa.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{V as I}from"./VCard-eaa72543.js";import{V as z}from"./VCardText-98eb95db.js";import{V}from"./VDivider-918e1012.js";import{V as F}from"./VDataTableServer-17eb9966.js";import{V as R}from"./VRow-e75d05ca.js";import{V as H}from"./VChip-8b0bd1d7.js";import{V as L}from"./VCheckbox-d317351d.js";import{V as O}from"./VTooltip-adb05b21.js";import{V as Q}from"./VPagination-dd94a862.js";import{r as u,w as q,o as G,c as J,b as s,e as a,d as l,n as o,a0 as f,x as m,v,a4 as h,s as x}from"./index-df4ab518.js";import"./form-2ada3462.js";import"./VSelect-42a77721.js";import"./VTextField-36955766.js";/* empty css                   */import"./VCounter-765b3bbe.js";import"./VImg-0ef9ea43.js";import"./VField-ad722ff5.js";import"./easing-9f15041e.js";import"./VInput-b019ff9f.js";import"./forwardRefs-8348545e.js";import"./VList-8d9c6de9.js";import"./ssrBoot-daeb9f5d.js";import"./VAvatar-8662b500.js";import"./dialog-transition-80cef3df.js";import"./VMenu-8f7b2255.js";import"./VOverlay-2e230bd4.js";import"./lazy-46f3b535.js";import"./scopeId-2e25374f.js";import"./VCheckboxBtn-8a71e93d.js";import"./VSelectionControl-643ddf11.js";import"./api-7d1e7909.js";import"./index-9c720871.js";import"./constants-ca8ca994.js";import"./notifications-81bc0416.js";import"./VDataTable-68742e74.js";import"./VTable-1a961d8a.js";import"./filter-9dd89d69.js";const K={class:"d-flex justify-space-between flex-wrap gap-y-4"},W={class:"d-flex flex-row gap-4 align-center flex-wrap"},X={class:"d-flex gap-x-2"},Y=["href"],Z={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},ee={class:"text-sm text-disabled mb-0"},te={__name:"list-conversation",setup(ae){const{allConversationsPaginate:y,totalConversations:g,conversations:C,updateConversationStatus:b}=j(),d=u(""),i=u(10),r=u(1);u(),u();const w=[{title:"Celular",key:"phone"},{title:"Es Cliente ?",key:"isCustomer"},{title:"Cliente",key:"customerName"},{title:"Ultimo Mensaje",key:"last_message"},{title:"Estado",key:"ia_status"},{title:"Acción",key:"action"}],P=n=>{r.value=n.page,i.value=n.itemsPerPage},S=()=>{y({page:r.value,itemsPerPage:i.value,search:d.value})},D=B.debounce(S,300);q([d,i,r],D,{immediate:!0});const k=async n=>{const t=u(0);n.ia_status&&(t.value=1),await b(n.id,t.value)},A=n=>{const t=new Date(n),c=t.getDate(),e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][t.getMonth()],_=t.getHours().toString().padStart(2,"0"),$=t.getMinutes().toString().padStart(2,"0");return`${c} de ${e}, ${_}:${$}`},U=n=>{const t=new Date,c=new Date(n),p=(t-c)/(1e3*60*60);return console.log(p),p>=12?"error":p>=6?"warning":p>=3?"info":"succes"};return(n,t)=>{const c=N,p=M;return G(),J("div",null,[s(I,{title:"Lista de Conversación con la IA"},{default:a(()=>[s(z,null,{default:a(()=>[l("div",K,[s(c,{modelValue:o(d),"onUpdate:modelValue":t[0]||(t[0]=e=>f(d)?d.value=e:null),style:{"max-inline-size":"200px","min-inline-size":"200px"},placeholder:"Search ..",density:"compact"},null,8,["modelValue"]),l("div",W,[s(p,{modelValue:o(i),"onUpdate:modelValue":t[1]||(t[1]=e=>f(i)?i.value=e:null),density:"compact",items:[5,10,20,50,100]},null,8,["modelValue"])])])]),_:1}),s(V),s(o(F),{"items-per-page":o(i),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>f(i)?i.value=e:null),page:o(r),"onUpdate:page":t[4]||(t[4]=e=>f(r)?r.value=e:null),items:o(C),headers:w,"items-length":o(g),class:"text-no-wrap","onUpdate:options":P},{"item.phone":a(({item:e})=>[l("div",X,[l("a",{href:`https://api.whatsapp.com/send?phone=${e.phone}`,target:"_blank",rel:"noopener noreferrer",class:"text-body-1"},m(e.cod_phone)+" "+m(e.phone),9,Y)])]),"item.last_message":a(({item:e})=>[s(R,{class:"gap-2 align-center"},{default:a(()=>[s(H,{color:U(e.last_message)},{default:a(()=>[v(m(A(e.last_message)),1)]),_:2},1032,["color"])]),_:2},1024)]),"item.ia_status":a(({item:e})=>[l("span",null,m(e.ia_status?"Activado":"No activado"),1)]),"item.isCustomer":a(({item:e})=>[l("span",null,m(e.isCustomer?"Sí":"No"),1)]),"item.action":a(({item:e})=>[s(L,{modelValue:e.ia_status,"onUpdate:modelValue":_=>e.ia_status=_,"true-value":1,"false-value":0,onChange:_=>k(e)},{default:a(()=>[s(O,{activator:"parent",location:"top"},{default:a(()=>[v(m(e.ia_status?"Desactivar IA":"Activar IA"),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),bottom:a(()=>[s(V),l("div",Z,[l("p",ee,m(o(T)({page:o(r),itemsPerPage:o(i)},o(g))),1),s(Q,{modelValue:o(r),"onUpdate:modelValue":t[2]||(t[2]=e=>f(r)?r.value=e:null),length:Math.ceil(o(g)/o(i)),"total-visible":n.$vuetify.display.xs?1:Math.min(Math.ceil(o(g)/o(i)),5)},{prev:a(e=>[s(h,x({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>t[5]||(t[5]=[v(" Previous ")])),_:2},1040)]),next:a(e=>[s(h,x({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>t[6]||(t[6]=[v(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})])}}},qe=E(te,[["__scopeId","data-v-7a46a387"]]);export{qe as default};
========
import{_ as M}from"./AppSelect-c3c0f91c.js";import{_ as N}from"./AppTextField-26cab1d9.js";import{u as j}from"./useConversation-f75bfd0a.js";import{p as T}from"./paginationMeta-4ad053a4.js";import{l as B}from"./lodash-64ddda01.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{V as I}from"./VCard-425397bb.js";import{V as z}from"./VCardText-7e38ec93.js";import{V}from"./VDivider-bcdd976f.js";import{V as F}from"./VDataTableServer-b25d9fc7.js";import{V as R}from"./VRow-b5f95815.js";import{V as H}from"./VChip-e9db10b6.js";import{V as L}from"./VCheckbox-a2a1c8f7.js";import{V as O}from"./VTooltip-a599f7de.js";import{V as Q}from"./VPagination-55dcc02b.js";import{r as u,w as q,o as G,c as J,b as s,e as a,d as l,n as o,a0 as f,x as m,v,a4 as h,s as x}from"./index-7e5a0ba5.js";import"./form-a8ee9891.js";import"./VSelect-64d33951.js";import"./VTextField-c8702a0e.js";/* empty css                   */import"./VCounter-fbedf41d.js";import"./VImg-cbbb57f3.js";import"./VField-4e37d9ce.js";import"./easing-9f15041e.js";import"./VInput-633aec45.js";import"./forwardRefs-8348545e.js";import"./VList-cd777db1.js";import"./ssrBoot-8acb8bd9.js";import"./VAvatar-761d6351.js";import"./dialog-transition-67b0be8e.js";import"./VMenu-de6b5c20.js";import"./VOverlay-3505e079.js";import"./lazy-628bdd27.js";import"./scopeId-acadca75.js";import"./VCheckboxBtn-58670090.js";import"./VSelectionControl-45278b2b.js";import"./api-1af14580.js";import"./index-9c720871.js";import"./constants-f3b5ca65.js";import"./notifications-81bc0416.js";import"./VDataTable-63a87196.js";import"./VTable-07e38e05.js";import"./filter-6ee6141a.js";const K={class:"d-flex justify-space-between flex-wrap gap-y-4"},W={class:"d-flex flex-row gap-4 align-center flex-wrap"},X={class:"d-flex gap-x-2"},Y=["href"],Z={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},ee={class:"text-sm text-disabled mb-0"},te={__name:"list-conversation",setup(ae){const{allConversationsPaginate:y,totalConversations:g,conversations:C,updateConversationStatus:b}=j(),d=u(""),i=u(10),r=u(1);u(),u();const w=[{title:"Celular",key:"phone"},{title:"Es Cliente ?",key:"isCustomer"},{title:"Cliente",key:"customerName"},{title:"Ultimo Mensaje",key:"last_message"},{title:"Estado",key:"ia_status"},{title:"Acción",key:"action"}],P=n=>{r.value=n.page,i.value=n.itemsPerPage},S=()=>{y({page:r.value,itemsPerPage:i.value,search:d.value})},D=B.debounce(S,300);q([d,i,r],D,{immediate:!0});const k=async n=>{const t=u(0);n.ia_status&&(t.value=1),await b(n.id,t.value)},A=n=>{const t=new Date(n),c=t.getDate(),e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][t.getMonth()],_=t.getHours().toString().padStart(2,"0"),$=t.getMinutes().toString().padStart(2,"0");return`${c} de ${e}, ${_}:${$}`},U=n=>{const t=new Date,c=new Date(n),p=(t-c)/(1e3*60*60);return console.log(p),p>=12?"error":p>=6?"warning":p>=3?"info":"succes"};return(n,t)=>{const c=N,p=M;return G(),J("div",null,[s(I,{title:"Lista de Conversación con la IA"},{default:a(()=>[s(z,null,{default:a(()=>[l("div",K,[s(c,{modelValue:o(d),"onUpdate:modelValue":t[0]||(t[0]=e=>f(d)?d.value=e:null),style:{"max-inline-size":"200px","min-inline-size":"200px"},placeholder:"Search ..",density:"compact"},null,8,["modelValue"]),l("div",W,[s(p,{modelValue:o(i),"onUpdate:modelValue":t[1]||(t[1]=e=>f(i)?i.value=e:null),density:"compact",items:[5,10,20,50,100]},null,8,["modelValue"])])])]),_:1}),s(V),s(o(F),{"items-per-page":o(i),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>f(i)?i.value=e:null),page:o(r),"onUpdate:page":t[4]||(t[4]=e=>f(r)?r.value=e:null),items:o(C),headers:w,"items-length":o(g),class:"text-no-wrap","onUpdate:options":P},{"item.phone":a(({item:e})=>[l("div",X,[l("a",{href:`https://api.whatsapp.com/send?phone=${e.phone}`,target:"_blank",rel:"noopener noreferrer",class:"text-body-1"},m(e.cod_phone)+" "+m(e.phone),9,Y)])]),"item.last_message":a(({item:e})=>[s(R,{class:"gap-2 align-center"},{default:a(()=>[s(H,{color:U(e.last_message)},{default:a(()=>[v(m(A(e.last_message)),1)]),_:2},1032,["color"])]),_:2},1024)]),"item.ia_status":a(({item:e})=>[l("span",null,m(e.ia_status?"Activado":"No activado"),1)]),"item.isCustomer":a(({item:e})=>[l("span",null,m(e.isCustomer?"Sí":"No"),1)]),"item.action":a(({item:e})=>[s(L,{modelValue:e.ia_status,"onUpdate:modelValue":_=>e.ia_status=_,"true-value":1,"false-value":0,onChange:_=>k(e)},{default:a(()=>[s(O,{activator:"parent",location:"top"},{default:a(()=>[v(m(e.ia_status?"Desactivar IA":"Activar IA"),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),bottom:a(()=>[s(V),l("div",Z,[l("p",ee,m(o(T)({page:o(r),itemsPerPage:o(i)},o(g))),1),s(Q,{modelValue:o(r),"onUpdate:modelValue":t[2]||(t[2]=e=>f(r)?r.value=e:null),length:Math.ceil(o(g)/o(i)),"total-visible":n.$vuetify.display.xs?1:Math.min(Math.ceil(o(g)/o(i)),5)},{prev:a(e=>[s(h,x({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>t[5]||(t[5]=[v(" Previous ")])),_:2},1040)]),next:a(e=>[s(h,x({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>t[6]||(t[6]=[v(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})])}}},qe=E(te,[["__scopeId","data-v-7a46a387"]]);export{qe as default};
>>>>>>>> Develop:dist/assets/list-conversation-1e6a3686.js
