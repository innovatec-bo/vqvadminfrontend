import{_ as C}from"./AppSelect-efaf9105.js";import{_ as E}from"./AppTextField-29b22b24.js";import{_ as N}from"./DialogCloseBtn-fe2a9ed0.js";import{r as y,w as k,o as s,f as i,e as r,b as a,a3 as w,n as l,z as m,d as _,x as R,a4 as b,v as T}from"./index-c2e96262.js";import{u as S}from"./useProperty-f00a9a2f.js";import{V as B}from"./VCardText-df626bb1.js";import{V as M}from"./VForm-378c8e9d.js";import{V as q}from"./VRow-7348eabc.js";import{V as d}from"./VCol-11309398.js";import{V as z}from"./VCheckbox-510e1275.js";import{V as $}from"./VCard-f5bbdae8.js";import{V as F}from"./VDialog-dfbe258f.js";const j={class:"d-flex items-center gap-x-2 py-7 px-1"},G={class:"my-2"},ee={__name:"EditPropertyDialog",props:{isDialogVisible:{type:Boolean,required:!0},property:{type:Object,required:!0}},emits:["update:isDialogVisible","propertyUpdated"],setup(g,{emit:A}){const n=g,c=A,v=y([{value:"DEPARTAMENT",title:"Departamento"},{value:"PARK",title:"Parqueo"}]),{loadingProperty:f,editProperty:D}=S(),e=y({...n.property}),u=()=>{c("update:isDialogVisible",!1)},P=async()=>{(await D(e.value)).success&&c("propertyUpdated",e.value),u()};return k(()=>n.property,V=>{e.value={...V}}),(V,o)=>{const U=N,p=E,x=C;return s(),i(F,{"max-width":"800","model-value":n.isDialogVisible,persistent:"","close-on-esc":!1,"onUpdate:modelValue":u},{default:r(()=>[a(U,{onClick:u}),a($,{title:"Editar propiedad",class:"pa-sm-8 pa-5"},{default:r(()=>[a(B,null,{default:r(()=>[a(M,{onSubmit:w(P,["prevent"])},{default:r(()=>[a(q,{dense:""},{default:r(()=>[a(d,{cols:"12",md:"6"},{default:r(()=>[a(p,{modelValue:l(e).code,"onUpdate:modelValue":o[0]||(o[0]=t=>l(e).code=t),label:"Código",placeholder:"A1",outlined:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(x,{modelValue:l(e).property_type,"onUpdate:modelValue":o[1]||(o[1]=t=>l(e).property_type=t),label:"Tipo de propiedad",placeholder:"Seleccione un tipo",items:l(v),outlined:""},null,8,["modelValue","items"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(p,{modelValue:l(e).base_price,"onUpdate:modelValue":o[2]||(o[2]=t=>l(e).base_price=t),label:"Precio de la propiedad",placeholder:"...",outlined:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(p,{modelValue:l(e).percentage_initial_fee,"onUpdate:modelValue":o[3]||(o[3]=t=>l(e).percentage_initial_fee=t),label:"% Anticipo",placeholder:"...",outlined:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:r(()=>[a(p,{modelValue:l(e).title,"onUpdate:modelValue":o[4]||(o[4]=t=>l(e).title=t),label:"Título comercial",placeholder:"Título comercial",outlined:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(p,{modelValue:l(e).surface,"onUpdate:modelValue":o[5]||(o[5]=t=>l(e).surface=t),label:"Superficie",placeholder:"...",outlined:""},null,8,["modelValue"])]),_:1}),l(e).property_type=="DEPARTAMENT"?(s(),i(d,{key:0,cols:"12",md:"6"},{default:r(()=>[a(p,{modelValue:l(e).departament.number_bedrooms,"onUpdate:modelValue":o[6]||(o[6]=t=>l(e).departament.number_bedrooms=t),label:"Numero de habitaciones",placeholder:"...",outlined:""},null,8,["modelValue"])]),_:1})):m("",!0),l(e).property_type=="DEPARTAMENT"?(s(),i(d,{key:1,cols:"12",md:"6"},{default:r(()=>[a(p,{modelValue:l(e).departament.number_bathrooms,"onUpdate:modelValue":o[7]||(o[7]=t=>l(e).departament.number_bathrooms=t),label:"Numero de baños",placeholder:"...",outlined:""},null,8,["modelValue"])]),_:1})):m("",!0),l(e).property_type=="DEPARTAMENT"?(s(),i(d,{key:2,cols:"12",md:"3"},{default:r(()=>[_("div",j,[_("span",G,R(l(e).departament.is_balcony?"Con Terraza":"Sin Terraza"),1),a(z,{modelValue:l(e).departament.is_balcony,"onUpdate:modelValue":o[8]||(o[8]=t=>l(e).departament.is_balcony=t),"true-value":1,"false-value":0},null,8,["modelValue"])])]),_:1})):m("",!0),l(e).property_type=="DEPARTAMENT"&&l(e).departament.is_balcony?(s(),i(d,{key:3,cols:"12",md:"3"},{default:r(()=>[a(p,{modelValue:l(e).departament.surface_balcony,"onUpdate:modelValue":o[9]||(o[9]=t=>l(e).departament.surface_balcony=t),label:"Superficie",placeholder:"...",outlined:""},null,8,["modelValue"])]),_:1})):m("",!0),a(d,{cols:"12",class:"text-right mt-6"},{default:r(()=>[a(b,{color:"secondary",variant:"tonal",class:"me-3",onClick:u},{default:r(()=>o[10]||(o[10]=[T(" Cancelar ")])),_:1}),a(b,{type:"submit",color:"primary",class:"me-3",disabled:l(f),loading:l(f)},{default:r(()=>o[11]||(o[11]=[T(" Guardar ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{ee as _};
