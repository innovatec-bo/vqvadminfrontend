import{_ as M}from"./AppTextField-6f740df4.js";import{_ as R}from"./AppSelect-ccf756d5.js";import{u as Y,_ as z,d as D}from"./EditPropertyDialog-099a7334.js";import{f as N}from"./currencyFormatter-92ad4b3c.js";import{p as $}from"./paginationMeta-4ad053a4.js";import{l as L}from"./lodash-d67cab74.js";import{V as S}from"./VCard-b8ab7ef2.js";import{V as T}from"./VCardText-974f1364.js";import{V as j}from"./VSpacer-ded672f5.js";import{V as h}from"./VDivider-18f44d6d.js";import{V as J}from"./VDataTableServer-ab78b798.js";import{V as q}from"./VChip-5a84b8f9.js";import{V as Q}from"./VPagination-d1c3ffca.js";import{r as g,w as G,a as H,o as _,c as b,b as o,e as l,n as t,a0 as m,d as n,x as p,z as k,v as x,a4 as P,s as B,$ as K}from"./index-a54c57b2.js";import"./form-87f468b6.js";import"./VTextField-4d59e4f8.js";/* empty css                   */import"./VCounter-9184ef99.js";import"./VImg-24ae3b8f.js";import"./VField-e400f246.js";import"./easing-9f15041e.js";import"./VInput-39bbda74.js";import"./forwardRefs-8348545e.js";import"./VSelect-718a4a4c.js";import"./VList-8e53c877.js";import"./ssrBoot-0af201ab.js";import"./VAvatar-a060005e.js";import"./dialog-transition-e1dfb8e6.js";import"./VMenu-4a4865a4.js";import"./VOverlay-55c698d2.js";import"./lazy-67a427f9.js";import"./scopeId-6c78f01e.js";import"./VCheckboxBtn-d46ea3f4.js";import"./VSelectionControl-d56c1c32.js";import"./AppDateTimePicker-fd1d1008.js";import"./DialogCloseBtn-795d7e2c.js";import"./api-f4900d91.js";import"./index-9c720871.js";import"./constants-1eb97e20.js";import"./notifications-cae4d01c.js";import"./VForm-46f40c9a.js";import"./VRow-db7839b8.js";import"./VCol-e110b22d.js";import"./VDialog-b5a48363.js";import"./VDataTable-b47a1761.js";import"./VTable-d2336548.js";import"./filter-97072b4a.js";const W={class:"text-body-1"},X={class:"d-flex align-center flex-wrap gap-4"},Z={class:"d-flex align-center gap-4"},ee={class:"text-capitalize"},te={key:0,class:"text-capitalize font-weight-medium"},ae={key:1,class:"text-capitalize font-weight-medium"},oe={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},le={class:"text-sm text-disabled mb-0"},et={__name:"list",setup(ie){const{getAllBillboardFaces:C,billboardFaces:c,billboardFace:V,totalBillboardFaces:u}=Y(),d=g(),i=g(20),r=g(1),f=g(!1),F=s=>{r.value=s.page,i.value=s.itemsPerPage},w=[{title:"Codigo",key:"code"},{title:"Cara",key:"face"},{title:"Estado",key:"status"},{title:"Rentado desde",key:"rented_from"},{title:"Disponible desde",key:"available_from"},{title:"Departamento",key:"billboard.city.department"},{title:"Ciudad",key:"billboard.city.name"},{title:"Accion",key:"actions",sortable:!1}],E=()=>{C({itemsPerPage:i.value,page:r.value,search:d.value})},U=L.debounce(E,300);G([d,i,r],U,{immediate:!0});const y=s=>{switch(s){case"ROJO":return{color:"danger",text:"ROJO"};case"AMARILLO":return{color:"warning",text:"AMARILLO"};case"VERDE":return{color:"success",text:"VERDE"};default:return{color:"primary",text:"INDEFINIDO"}}},I=async s=>{f.value=!0,V.value={...s}},O=s=>{const a=c.value.findIndex(v=>v.id===s.id);a!==-1&&(c.value[a]={...s})};return(s,a)=>{const v=M,A=H("IconBtn");return _(),b("section",null,[o(S,null,{default:l(()=>[o(T,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[n("div",null,[a[6]||(a[6]=n("h5",{class:"text-h5"}," Caras ",-1)),n("div",W," En total son "+p(t(u))+" caras. ",1)]),o(j),n("div",X,[o(R,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=e=>m(i)?i.value=e:null),density:"compact",items:[5,10,20,50,100]},null,8,["modelValue"]),o(v,{modelValue:t(d),"onUpdate:modelValue":a[1]||(a[1]=e=>m(d)?d.value=e:null),placeholder:"Buscar...",density:"compact",style:{"inline-size":"12.5rem"}},null,8,["modelValue"])])]),_:1}),o(h),o(t(J),{"items-per-page":t(i),"onUpdate:itemsPerPage":a[3]||(a[3]=e=>m(i)?i.value=e:null),page:t(r),"onUpdate:page":a[4]||(a[4]=e=>m(r)?r.value=e:null),items:t(c),headers:w,"items-length":t(i).value===-1?t(c).value.length:t(u).valueOf,class:"text-no-wrap","onUpdate:options":F},{"item.base_price":l(({item:e})=>[n("div",Z,[n("span",ee,p(t(N)(e.base_price)),1)])]),"item.typeProperty":l(({item:e})=>[e.parking?(_(),b("span",te,"Parqueo")):k("",!0),e.departament?(_(),b("span",ae,"Departamento")):k("",!0)]),"item.status":l(({item:e})=>[o(q,{label:"",size:"small",class:"text-capitalize",color:y(e.status).color},{default:l(()=>[x(p(y(e.status).text),1)]),_:2},1032,["color"])]),"item.rented_from":l(({item:e})=>[n("span",null,p(e.rented_from?t(D)(e.rented_from).format("DD-MM-YYYY"):"-"),1)]),"item.available_from":l(({item:e})=>[n("span",null,p(e.available_from?t(D)(e.available_from).format("DD-MM-YYYY"):"-"),1)]),bottom:l(()=>[o(h),n("div",oe,[n("p",le,p(t($)({page:t(r),itemsPerPage:t(i)},t(u))),1),o(Q,{modelValue:t(r),"onUpdate:modelValue":a[2]||(a[2]=e=>m(r)?r.value=e:null),length:Math.ceil(t(u)/t(i)),"total-visible":s.$vuetify.display.xs?1:7},{prev:l(e=>[o(P,B({variant:"tonal",color:"default"},e,{icon:!1}),{default:l(()=>a[7]||(a[7]=[x(" Anterior ")])),_:2},1040)]),next:l(e=>[o(P,B({variant:"tonal",color:"default"},e,{icon:!1}),{default:l(()=>a[8]||(a[8]=[x(" Siguiente ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),"item.actions":l(({item:e})=>[o(A,null,{default:l(()=>[o(K,{icon:"ti ti-edit",onClick:se=>I(e)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(z,{"is-dialog-visible":t(f),"onUpdate:isDialogVisible":a[5]||(a[5]=e=>m(f)?f.value=e:null),billboardFace:t(V),onPropertyUpdated:O},null,8,["is-dialog-visible","billboardFace"])])}}};export{et as default};
