import{_ as F}from"./AppTextField-bb6761de.js";import{u as T}from"./useProject-bf408140.js";import{l as z}from"./lodash-96fdc8b4.js";import{V as b}from"./VCard-123318f0.js";import{r as n,w as h,a as A,o as p,f as g,e as t,b as s,d as a,x as m,n as v,a4 as d,v as r,c as D,i as I,$ as R,z as M,F as Q,s as j}from"./index-b2b9c5e3.js";import{V as U}from"./VRow-1695222e.js";import{V as S}from"./VCol-840e2829.js";import{V as P}from"./VCardText-5f6b8053.js";import{V as q}from"./VPagination-0c547810.js";import"./form-20921ac3.js";import"./VTextField-8bea72d4.js";/* empty css                   */import"./VCounter-d00b207b.js";import"./VImg-f24153c9.js";import"./VField-f1fcae57.js";import"./easing-9f15041e.js";import"./VInput-798b44d3.js";import"./forwardRefs-8348545e.js";import"./api-a016fed6.js";import"./index-9c720871.js";import"./constants-ca8ca994.js";import"./notifications-81bc0416.js";import"./VAvatar-eed2a790.js";const G={class:"d-flex justify-space-between align-center flex-wrap gap-4 mb-6"},H={class:"text-body-1"},J={class:"d-flex flex-wrap align-center gap-4"},K={class:"mb-6"},O={class:"d-flex justify-space-between align-center mb-4"},W={class:"d-flex"},X={class:"text-h5 mb-1"},Y=["id"],Z={class:"d-flex flex-wrap gap-4"},x=100,Pe={__name:"list-projects",setup(ee){const c=n(""),u=n(100),i=n(1);n(),n();const w=n(!1),{getallProjects:k,projects:C,totalProjects:V}=T(),B=()=>{k({page:i.value,itemsPerPage:u.value,search:c.value})},L=z.debounce(B,300);h([c,u,i],L,{immediate:!0}),h([w],()=>{i.value=1});const $=l=>l.length>x?l.slice(0,x)+"...":l,E=l=>{const e=document.getElementById(`description-${l}`);e.classList.contains("expanded")?e.classList.remove("expanded"):e.classList.add("expanded")};return(l,e)=>{const N=F,y=A("RouterLink");return p(),g(b,{class:"mb-6"},{default:t(()=>[s(P,null,{default:t(()=>[a("div",G,[a("div",null,[e[2]||(e[2]=a("h5",{class:"text-h5"},null,-1)),a("div",H," En total son "+m(v(V)),1)]),a("div",J,[s(N,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),placeholder:"Buscar...",density:"compact",style:{"min-inline-size":"200px"}},null,8,["modelValue"]),s(y,{to:{name:"realty-project-register-project"}},{default:t(()=>[s(d,null,{default:t(()=>e[3]||(e[3]=[r(" Agregar Proyecto ")])),_:1})]),_:1})])]),a("div",K,[s(U,null,{default:t(()=>[(p(!0),D(Q,null,I(v(C),(o,f)=>(p(),g(S,{key:o.id,cols:"12",md:"4",sm:"6"},{default:t(()=>[s(b,{flat:"",border:"",class:"project-card"},{default:t(()=>[s(P,null,{default:t(()=>[a("div",O,[a("div",W,[s(R,{icon:"tabler-smart-home",color:"warning",class:"me-2",size:"20"})])]),a("h5",X,[s(y,{to:{name:"realty-project-id",params:{id:o.id}},class:"course-title"},{default:t(()=>[r(m(o.title),1)]),_:2},1032,["to"])]),a("p",{id:`description-${f}`,class:"description"},[r(m($(o.description))+" ",1),o.description.length>x?(p(),g(d,{key:0,text:"",onClick:_=>E(f)},{default:t(()=>{var _;return[r(" Ver "+m((_=l.document.getElementById(`description-${f}`))!=null&&_.classList.contains("expanded")?"menos":"mÃ¡s"),1)]}),_:2},1032,["onClick"])):M("",!0)],8,Y),a("div",Z,[s(d,{variant:"tonal",color:"secondary",class:"flex-grow-1",to:{name:"realty-project-id",params:{id:o.id}}},{prepend:t(()=>e[4]||(e[4]=[])),default:t(()=>[e[5]||(e[5]=r(" Mirar Propiedades "))]),_:2},1032,["to"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),s(q,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),length:Math.ceil(v(V)/u.value)},{prev:t(o=>[s(d,j({variant:"tonal",color:"default"},o,{icon:!1}),{default:t(()=>e[6]||(e[6]=[r(" Previous ")])),_:2},1040)]),next:t(o=>[s(d,j({variant:"tonal",color:"default"},o,{icon:!1}),{default:t(()=>e[7]||(e[7]=[r(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length"])]),_:1})]),_:1})}}};export{Pe as default};
