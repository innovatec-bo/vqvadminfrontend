import{P as g}from"./vue3-perfect-scrollbar.esm-6577182e.js";import{ab as C,k as I,ac as i,n as e,o as s,f as l,e as a,b as o,$ as n,v as c,x as u,c as f,F as p,i as P,ad as h,s as x,z as L}from"./index-b2b9c5e3.js";import{V as m}from"./VAvatar-eed2a790.js";import{V as v}from"./VImg-f24153c9.js";import{V as w}from"./VMenu-17ed2756.js";import{V as A,a as y,b as _,c as S}from"./VList-317b74f7.js";import{V as B}from"./VListItemAction-f877fa37.js";import{V as d}from"./VBadge-8bcd50c9.js";import{V as D}from"./VDivider-381c17f1.js";import"./VOverlay-b0f4cef9.js";import"./easing-9f15041e.js";import"./lazy-08ff3ae9.js";import"./scopeId-1a77cef3.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-a4e33bf4.js";import"./ssrBoot-427dade3.js";const $=()=>C(),et={__name:"UserProfile",setup(N){const V=I(),b=$(),t=i("userData"),k=[{type:"divider"},{type:"navItem",icon:"tabler-user",title:"Perfil",to:{name:"activity-list"}},{type:"divider"},{type:"navItem",icon:"tabler-logout",title:"Cerrar Sesion",onClick:async()=>{i("accessToken").value=null,t.value=null,await V.push("/login"),i("userAbilityRules").value=null,b.update([])}}];return(z,F)=>e(t)?(s(),l(d,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[o(m,{class:"cursor-pointer",color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(v,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(n,{key:1,icon:"tabler-user"})),o(w,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[o(A,null,{default:a(()=>[o(y,null,{prepend:a(()=>[o(B,{start:""},{default:a(()=>[o(d,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(m,{color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(v,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(n,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:a(()=>[o(_,{class:"font-weight-medium"},{default:a(()=>[c(u(e(t).name),1)]),_:1}),o(S,null,{default:a(()=>[c(u(e(t).roles[0]),1)]),_:1})]),_:1}),o(e(g),{options:{wheelPropagation:!1}},{default:a(()=>[(s(),f(p,null,P(k,r=>(s(),f(p,{key:r.title},[r.type==="navItem"?(s(),l(y,{key:0,to:r.to,onClick:R=>r.onClick&&r.onClick()},h({prepend:a(()=>[o(n,{class:"me-2",icon:r.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(_,null,{default:a(()=>[c(u(r.title),1)]),_:2},1024)]),_:2},[r.badgeProps?{name:"append",fn:a(()=>[o(d,x({ref_for:!0},r.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to","onClick"])):(s(),l(D,{key:1,class:"my-2"}))],64))),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):L("",!0)}};export{et as default};
