import{_ as M}from"./AppTextField-6f740df4.js";import{_ as F}from"./AppSelect-ccf756d5.js";import{_ as G}from"./EditPropertyDialog-099a7334.js";import{u as q}from"./useProperty-822d3234.js";import{f as H}from"./currencyFormatter-92ad4b3c.js";import{p as Q}from"./paginationMeta-4ad053a4.js";import{l as J}from"./lodash-d67cab74.js";import{V as K}from"./VCard-b8ab7ef2.js";import{V as W}from"./VCardText-974f1364.js";import{V as X}from"./VSpacer-ded672f5.js";import{r as y,w as Y,a as C,o as V,c as P,b as o,e as r,n as a,a0 as p,d as n,x as g,a4 as v,v as d,z as D,s as A,$ as b}from"./index-a54c57b2.js";import{V as I}from"./VDivider-18f44d6d.js";import{V as Z}from"./VDataTableServer-ab78b798.js";import{V as ee}from"./VChip-5a84b8f9.js";import{V as te}from"./VPagination-d1c3ffca.js";import"./form-87f468b6.js";import"./VTextField-4d59e4f8.js";/* empty css                   */import"./VCounter-9184ef99.js";import"./VImg-24ae3b8f.js";import"./VField-e400f246.js";import"./easing-9f15041e.js";import"./VInput-39bbda74.js";import"./forwardRefs-8348545e.js";import"./VSelect-718a4a4c.js";import"./VList-8e53c877.js";import"./ssrBoot-0af201ab.js";import"./VAvatar-a060005e.js";import"./dialog-transition-e1dfb8e6.js";import"./VMenu-4a4865a4.js";import"./VOverlay-55c698d2.js";import"./lazy-67a427f9.js";import"./scopeId-6c78f01e.js";import"./VCheckboxBtn-d46ea3f4.js";import"./VSelectionControl-d56c1c32.js";import"./AppDateTimePicker-fd1d1008.js";import"./DialogCloseBtn-795d7e2c.js";import"./api-f4900d91.js";import"./index-9c720871.js";import"./constants-1eb97e20.js";import"./notifications-cae4d01c.js";import"./VForm-46f40c9a.js";import"./VRow-db7839b8.js";import"./VCol-e110b22d.js";import"./VDialog-b5a48363.js";import"./VDataTable-b47a1761.js";import"./VTable-d2336548.js";import"./filter-97072b4a.js";const oe={class:"text-body-1"},ae={class:"d-flex align-center flex-wrap gap-4"},re={class:"d-flex align-center gap-4"},ie={class:"text-capitalize"},le={key:0,class:"text-capitalize font-weight-medium"},se={key:1,class:"text-capitalize font-weight-medium"},ne={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},pe={class:"text-sm text-disabled mb-0"},it={__name:"list",setup(me){const{allProperty:U,exportPropertyExcel:B,properties:u,property:E,totalProperties:c,removeProperty:N}=q(),m=y(),l=y(20),s=y(1),f=y(!1),S=i=>{s.value=i.page,l.value=i.itemsPerPage},L=[{title:"Titulo",key:"title"},{title:"Code",key:"code"},{title:"Precio",key:"base_price"},{title:"Tipo de Propiedad",key:"typeProperty"},{title:"Proyecto",key:"project"},{title:"Estado",key:"status"},{title:"Accion",key:"actions",sortable:!1}],k=()=>{U({itemsPerPage:l.value,page:s.value,search:m.value})},R=J.debounce(k,300);Y([m,l,s],R,{immediate:!0});const w=i=>{switch(i){case"AVAILABLE":return{color:"success",text:"DISPONIBLE"};case"PRESALE":return{color:"warning",text:"RESERVADO"};case"SALE":return{color:"error",text:"VENDIDO"};case"DELIVERED":return{color:"error",text:"ENTREGADO"};default:return{color:"primary",text:"NOTHING"}}},T=async i=>{await N(i),k()},z=async i=>{f.value=!0,E.value={...i}},O=i=>{const t=u.value.findIndex(_=>_.id===i.id);t!==-1&&(u.value[t]={...i})},$=async()=>{await B()};return(i,t)=>{const _=M,h=C("RouterLink"),x=C("IconBtn");return V(),P("section",null,[o(K,null,{default:r(()=>[o(W,{class:"d-flex flex-wrap gap-4"},{default:r(()=>[n("div",null,[t[6]||(t[6]=n("h5",{class:"text-h5"}," Mis Propiedades ",-1)),n("div",oe," En total son "+g(a(c))+" Propiedades. ",1)]),o(X),n("div",ae,[o(F,{modelValue:a(l),"onUpdate:modelValue":t[0]||(t[0]=e=>p(l)?l.value=e:null),density:"compact",items:[5,10,20,50,100]},null,8,["modelValue"]),o(_,{modelValue:a(m),"onUpdate:modelValue":t[1]||(t[1]=e=>p(m)?m.value=e:null),placeholder:"Buscar...",density:"compact",style:{"inline-size":"12.5rem"}},null,8,["modelValue"]),o(v,{"prepend-icon":"tabler-screen-share",variant:"tonal",color:"secondary",onClick:$},{default:r(()=>t[7]||(t[7]=[d(" Export ")])),_:1}),o(h,{to:{name:"realty-property-register"}},{default:r(()=>[o(v,null,{default:r(()=>t[8]||(t[8]=[d(" Agregar Propiedad ")])),_:1})]),_:1})])]),_:1}),o(I),o(a(Z),{"items-per-page":a(l),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>p(l)?l.value=e:null),page:a(s),"onUpdate:page":t[4]||(t[4]=e=>p(s)?s.value=e:null),items:a(u),headers:L,"items-length":a(l).value===-1?a(u).value.length:a(c).valueOf,class:"text-no-wrap","onUpdate:options":S},{"item.base_price":r(({item:e})=>[n("div",re,[n("span",ie,g(a(H)(e.base_price)),1)])]),"item.typeProperty":r(({item:e})=>[e.parking?(V(),P("span",le,"Parqueo")):D("",!0),e.departament?(V(),P("span",se,"Departamento")):D("",!0)]),"item.status":r(({item:e})=>[o(ee,{label:"",size:"small",class:"text-capitalize",color:w(e.status).color},{default:r(()=>[d(g(w(e.status).text),1)]),_:2},1032,["color"])]),bottom:r(()=>[o(I),n("div",ne,[n("p",pe,g(a(Q)({page:a(s),itemsPerPage:a(l)},a(c))),1),o(te,{modelValue:a(s),"onUpdate:modelValue":t[2]||(t[2]=e=>p(s)?s.value=e:null),length:Math.ceil(a(c)/a(l)),"total-visible":i.$vuetify.display.xs?1:7},{prev:r(e=>[o(v,A({variant:"tonal",color:"default"},e,{icon:!1}),{default:r(()=>t[9]||(t[9]=[d(" Anterior ")])),_:2},1040)]),next:r(e=>[o(v,A({variant:"tonal",color:"default"},e,{icon:!1}),{default:r(()=>t[10]||(t[10]=[d(" Siguiente ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),"item.actions":r(({item:e})=>[o(x,null,{default:r(()=>[o(h,{to:{name:"realty-property-id",params:{id:e.id}}},{default:r(()=>[o(b,{icon:"tabler-eye"})]),_:2},1032,["to"])]),_:2},1024),o(x,null,{default:r(()=>[o(b,{icon:"tabler-edit",onClick:j=>z(e)},null,8,["onClick"])]),_:2},1024),o(x,{onClick:j=>T(e.id)},{default:r(()=>[o(b,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(G,{"is-dialog-visible":a(f),"onUpdate:isDialogVisible":t[5]||(t[5]=e=>p(f)?f.value=e:null),property:a(E),onPropertyUpdated:O},null,8,["is-dialog-visible","property"])])}}};export{it as default};
