import{r as V}from"./validators-dea6e3a5.js";import{f as c}from"./currencyFormatter-92ad4b3c.js";import{V as v}from"./VCol-341dd709.js";import{V as y}from"./VTextField-36955766.js";import{r as _,a2 as B,w as E,o as f,f as N,e as s,d as n,x as u,n as d,c as A,F as k,i as q,b as o,a4 as C,$ as x,v as p}from"./index-df4ab518.js";import{V as D}from"./VCard-eaa72543.js";const H={CASH:{value:"CASH",title:"Contado"},BANKCREDIT:{value:"BANKCREDIT",title:"Credito Bancario"}},$={DEPARTAMENT:{label:"Departamento",value:"DEPARTAMENT"},PARK:{label:"Parqueo",value:"PARK"}},R={class:"mb-2"},h={class:"mt-4"},M={class:"mt-4"},L={__name:"InvoiceAddMoney",props:{title:{type:String,default:""},type:{type:String,default:""},amount:{type:Number,default:0},differs:{type:Array,default:()=>[]}},setup(g){const a=g,l=_(a.differs),b=()=>{l.value.push({amount:"",date:""}),a.differs=l.value},P=e=>{l.value.splice(e,1),a.differs=l.value},m=B(()=>l.value.reduce((e,r)=>{const t=parseFloat(r.amount)||0;return e+t},0));return E(m,e=>{e>a.amount&&alert("El total de los pagos no puede exceder el monto total.")}),(e,r)=>(f(),N(D,{flat:"",border:"",class:"d-flex flex-column pa-5"},{default:s(()=>[n("h3",R,u(a.title)+" : "+u(d(c)(a.amount)),1),(f(!0),A(k,null,q(l.value,(t,T)=>(f(),A("div",{key:t.id,class:"d-flex align-center"},[o(v,{cols:"5"},{default:s(()=>[o(y,{modelValue:t.date,"onUpdate:modelValue":i=>t.date=i,label:"Fecha",type:"date",outlined:"",rules:["requiredValidator"in e?e.requiredValidator:d(V)]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),o(v,{cols:"5"},{default:s(()=>[o(y,{modelValue:t.amount,"onUpdate:modelValue":i=>t.amount=i,rules:["requiredValidator"in e?e.requiredValidator:d(V)],"error-messages":t.amount?"":"*campo obligatorio",label:"Monto *",type:"number",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","rules","error-messages"])]),_:2},1024),o(C,{color:"error",outlined:"",class:"mt-0",onClick:i=>P(T)},{default:s(()=>[o(x,{icon:"tabler-square-x"})]),_:2},1032,["onClick"])]))),128)),n("div",h,[r[0]||(r[0]=n("strong",null,"Suma Actual de Pagos: ",-1)),p(" "+u(d(c)(m.value)),1)]),n("div",M,[r[1]||(r[1]=n("strong",null,"Monto Restante:",-1)),p(" "+u(d(c)(a.amount-m.value)),1)]),o(C,{color:"secondary",class:"mt-4",onClick:b},{default:s(()=>[p(" Diferir "+u(a.title),1)]),_:1})]),_:1}))}};export{$ as P,L as _,H as a};
