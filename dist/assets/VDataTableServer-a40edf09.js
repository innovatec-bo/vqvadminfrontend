import{m as J,a as K,b as M,c as X,d as Y,e as Z,f as $,u as ee,p as ae,g as te,h as oe,i as se,j as le,k as re,l as de,n as S,o as h,q as y}from"./VDataTable-0ee0497f.js";import{aU as ue,aQ as ne,a2 as c,_ as o,P as ie,bA as ce,b5 as me,b as s,F as ge,s as m}from"./index-b40b785d.js";import{V as f}from"./VTable-f0a4c716.js";const ve=ue({itemsLength:{type:[Number,String],required:!0},...J(),...K(),...M()},"VDataTableServer"),Se=ne()({name:"VDataTableServer",props:ve(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,D){let{emit:be,slots:a}=D;const{groupBy:d}=X(e),{sortBy:l,multiSort:V,mustSort:x}=Y(e),{page:u,itemsPerPage:i}=Z(e),w=c(()=>parseInt(e.itemsLength,10)),{columns:g,headers:B}=$(e,{groupBy:d,showSelect:o(e,"showSelect"),showExpand:o(e,"showExpand")}),{items:n}=ee(e,g),{toggleSort:v}=ae({sortBy:l,multiSort:V,mustSort:x,page:u}),{opened:I,isGroupOpen:k,toggleGroup:F,extractRows:G}=te({groupBy:d,sortBy:l}),{pageCount:R,setItemsPerPage:E}=oe({page:u,itemsPerPage:i,itemsLength:w}),{flatItems:b}=se(n,d,I),{isSelected:_,select:H,selectAll:N,toggleSelect:C,someSelected:L,allSelected:q}=le(e,{allItems:n,currentPage:n}),{isExpanded:A,toggleExpand:O}=re(e),j=c(()=>G(n.value));de({page:u,itemsPerPage:i,sortBy:l,groupBy:d,search:o(e,"search")}),ie("v-data-table",{toggleSort:v,sortBy:l}),ce({VDataTableRows:{hideNoData:o(e,"hideNoData"),noDataText:o(e,"noDataText"),loading:o(e,"loading"),loadingText:o(e,"loadingText")}});const t=c(()=>({page:u.value,itemsPerPage:i.value,sortBy:l.value,pageCount:R.value,toggleSort:v,setItemsPerPage:E,someSelected:L.value,allSelected:q.value,isSelected:_,select:H,selectAll:N,toggleSelect:C,isExpanded:A,toggleExpand:O,isGroupOpen:k,toggleGroup:F,items:j.value,groupedItems:b.value,columns:g.value,headers:B.value}));me(()=>{const[Q]=S.filterProps(e),[U]=h.filterProps(e),[W]=y.filterProps(e),[z]=f.filterProps(e);return s(f,m({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},z),{top:()=>{var r;return(r=a.top)==null?void 0:r.call(a,t.value)},default:()=>{var r,p,P,T;return a.default?a.default(t.value):s(ge,null,[(r=a.colgroup)==null?void 0:r.call(a,t.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(h,m(U,{sticky:e.fixedHeader}),a)]),(p=a.thead)==null?void 0:p.call(a,t.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(t.value):s(y,m(W,{items:b.value}),a)]),(P=a.tbody)==null?void 0:P.call(a,t.value),(T=a.tfoot)==null?void 0:T.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):s(S,Q,{prepend:a["footer.prepend"]})})})}});export{Se as V};
