import{_ as M}from"./AppTextField-29b22b24.js";import{_ as F}from"./AppSelect-efaf9105.js";import{_ as G}from"./EditPropertyDialog-312e6503.js";import{u as q}from"./useProperty-f00a9a2f.js";import{f as H}from"./currencyFormatter-92ad4b3c.js";import{p as Q}from"./paginationMeta-4ad053a4.js";import{l as J}from"./lodash-e73df43d.js";import{V as K}from"./VCard-f5bbdae8.js";import{V as W}from"./VCardText-df626bb1.js";import{V as X}from"./VSpacer-5cccd6ed.js";import{r as y,w as Y,a as C,o as V,c as P,b as o,e as r,n as a,a0 as p,d as n,x as g,a4 as v,v as d,z as D,s as A,$ as b}from"./index-c2e96262.js";import{V as I}from"./VDivider-88128b79.js";import{V as Z}from"./VDataTableServer-a5cb9db4.js";import{V as ee}from"./VChip-e912eeed.js";import{V as te}from"./VPagination-e368eed8.js";import"./form-b8ba296f.js";import"./VTextField-86db8845.js";/* empty css                   */import"./VCounter-7567efe3.js";import"./VImg-31fed283.js";import"./VField-e94b1a76.js";import"./easing-9f15041e.js";import"./VInput-66adbaa5.js";import"./forwardRefs-8348545e.js";import"./VSelect-b13256b2.js";import"./VList-b9114e4f.js";import"./ssrBoot-de99a4c4.js";import"./VAvatar-a0558956.js";import"./dialog-transition-00941f89.js";import"./VMenu-b0d8fe43.js";import"./VOverlay-ca90609e.js";import"./lazy-b6b07144.js";import"./scopeId-10fccddb.js";import"./VCheckboxBtn-fffadaff.js";import"./VSelectionControl-e3762066.js";import"./DialogCloseBtn-fe2a9ed0.js";import"./VForm-378c8e9d.js";import"./VRow-7348eabc.js";import"./VCol-11309398.js";import"./VCheckbox-510e1275.js";import"./VDialog-dfbe258f.js";import"./api-aa8c13ee.js";import"./index-9c720871.js";import"./constants-b7e4fea4.js";import"./notifications-cae4d01c.js";import"./VDataTable-dfa81003.js";import"./VTable-d0b86b7f.js";import"./filter-fd4c1098.js";const oe={class:"text-body-1"},ae={class:"d-flex align-center flex-wrap gap-4"},re={class:"d-flex align-center gap-4"},ie={class:"text-capitalize"},le={key:0,class:"text-capitalize font-weight-medium"},se={key:1,class:"text-capitalize font-weight-medium"},ne={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},pe={class:"text-sm text-disabled mb-0"},it={__name:"list",setup(me){const{allProperty:U,exportPropertyExcel:B,properties:u,property:E,totalProperties:c,removeProperty:N}=q(),m=y(),l=y(20),s=y(1),f=y(!1),S=i=>{s.value=i.page,l.value=i.itemsPerPage},L=[{title:"Titulo",key:"title"},{title:"Code",key:"code"},{title:"Precio",key:"base_price"},{title:"Tipo de Propiedad",key:"typeProperty"},{title:"Proyecto",key:"project"},{title:"Estado",key:"status"},{title:"Accion",key:"actions",sortable:!1}],k=()=>{U({itemsPerPage:l.value,page:s.value,search:m.value})},R=J.debounce(k,300);Y([m,l,s],R,{immediate:!0});const w=i=>{switch(i){case"AVAILABLE":return{color:"success",text:"DISPONIBLE"};case"PRESALE":return{color:"warning",text:"RESERVADO"};case"SALE":return{color:"error",text:"VENDIDO"};case"DELIVERED":return{color:"error",text:"ENTREGADO"};default:return{color:"primary",text:"NOTHING"}}},T=async i=>{await N(i),k()},z=async i=>{f.value=!0,E.value={...i}},O=i=>{const t=u.value.findIndex(_=>_.id===i.id);t!==-1&&(u.value[t]={...i})},$=async()=>{await B()};return(i,t)=>{const _=M,h=C("RouterLink"),x=C("IconBtn");return V(),P("section",null,[o(K,null,{default:r(()=>[o(W,{class:"d-flex flex-wrap gap-4"},{default:r(()=>[n("div",null,[t[6]||(t[6]=n("h5",{class:"text-h5"}," Mis Propiedades ",-1)),n("div",oe," En total son "+g(a(c))+" Propiedades. ",1)]),o(X),n("div",ae,[o(F,{modelValue:a(l),"onUpdate:modelValue":t[0]||(t[0]=e=>p(l)?l.value=e:null),density:"compact",items:[5,10,20,50,100]},null,8,["modelValue"]),o(_,{modelValue:a(m),"onUpdate:modelValue":t[1]||(t[1]=e=>p(m)?m.value=e:null),placeholder:"Buscar...",density:"compact",style:{"inline-size":"12.5rem"}},null,8,["modelValue"]),o(v,{"prepend-icon":"tabler-screen-share",variant:"tonal",color:"secondary",onClick:$},{default:r(()=>t[7]||(t[7]=[d(" Export ")])),_:1}),o(h,{to:{name:"realty-property-register"}},{default:r(()=>[o(v,null,{default:r(()=>t[8]||(t[8]=[d(" Agregar Propiedad ")])),_:1})]),_:1})])]),_:1}),o(I),o(a(Z),{"items-per-page":a(l),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>p(l)?l.value=e:null),page:a(s),"onUpdate:page":t[4]||(t[4]=e=>p(s)?s.value=e:null),items:a(u),headers:L,"items-length":a(l).value===-1?a(u).value.length:a(c).valueOf,class:"text-no-wrap","onUpdate:options":S},{"item.base_price":r(({item:e})=>[n("div",re,[n("span",ie,g(a(H)(e.base_price)),1)])]),"item.typeProperty":r(({item:e})=>[e.parking?(V(),P("span",le,"Parqueo")):D("",!0),e.departament?(V(),P("span",se,"Departamento")):D("",!0)]),"item.status":r(({item:e})=>[o(ee,{label:"",size:"small",class:"text-capitalize",color:w(e.status).color},{default:r(()=>[d(g(w(e.status).text),1)]),_:2},1032,["color"])]),bottom:r(()=>[o(I),n("div",ne,[n("p",pe,g(a(Q)({page:a(s),itemsPerPage:a(l)},a(c))),1),o(te,{modelValue:a(s),"onUpdate:modelValue":t[2]||(t[2]=e=>p(s)?s.value=e:null),length:Math.ceil(a(c)/a(l)),"total-visible":i.$vuetify.display.xs?1:7},{prev:r(e=>[o(v,A({variant:"tonal",color:"default"},e,{icon:!1}),{default:r(()=>t[9]||(t[9]=[d(" Anterior ")])),_:2},1040)]),next:r(e=>[o(v,A({variant:"tonal",color:"default"},e,{icon:!1}),{default:r(()=>t[10]||(t[10]=[d(" Siguiente ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),"item.actions":r(({item:e})=>[o(x,null,{default:r(()=>[o(h,{to:{name:"realty-property-id",params:{id:e.id}}},{default:r(()=>[o(b,{icon:"tabler-eye"})]),_:2},1032,["to"])]),_:2},1024),o(x,null,{default:r(()=>[o(b,{icon:"tabler-edit",onClick:j=>z(e)},null,8,["onClick"])]),_:2},1024),o(x,{onClick:j=>T(e.id)},{default:r(()=>[o(b,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(G,{"is-dialog-visible":a(f),"onUpdate:isDialogVisible":t[5]||(t[5]=e=>p(f)?f.value=e:null),property:a(E),onPropertyUpdated:O},null,8,["is-dialog-visible","property"])])}}};export{it as default};
