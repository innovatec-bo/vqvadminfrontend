import{$ as g}from"./api-40e7a553.js";import{r as o}from"./index-eea64eab.js";const m=async e=>await g("/dashboard/general",{method:"GET",params:e}),S=async e=>await g("/dashboard/sale",{method:"GET",params:e}),p=async e=>await g("/dashboard/properties",{method:"GET",params:e}),M=async e=>await g("/dashboard/seller",{method:"GET",params:e}),f=async e=>await g("/dashboard/activities",{method:"GET",params:e});function C(){const e=o([]),u=o([]),h=o([]),y=o([]),d=o([]),D=o([]),l=o(!1),c=o(null);return{pastSellerActivityData:d,futureSellerActivityData:D,logisticsCardData:e,salesFunnelData:u,productStatusData:h,sellerSalesData:y,fetchAnalyticsData:async(t,a,s)=>{l.value=!0,c.value=null;const r={fromDate:t,toDate:a,project_id:s};try{const[i,n,v,w]=await Promise.all([m(r),S(r),p(r),M(r)]);e.value=i.data,u.value=n.data,h.value=v.data,y.value=w.data}catch(i){c.value="Error fetching analytics data.",console.error(i)}finally{l.value=!1}},fetchPastSellerActivity:async(t,a,s,r)=>{l.value=!0,c.value=null;const i={fromDate:t,toDate:a,project_id:s,asesor_id:r};try{const[n]=await Promise.all([f(i)]);d.value=n.data}catch(n){c.value="Error fetching analytics data.",console.error(n)}finally{l.value=!1}},fetchFutureSellerActivity:async(t,a,s,r)=>{l.value=!0,c.value=null;const i={fromDate:t,toDate:a,project_id:s,asesor_id:r};try{const[n]=await Promise.all([f(i)]);D.value=n.data}catch(n){c.value="Error fetching analytics data.",console.error(n)}finally{l.value=!1}},getLastMonthRange:()=>{const t=new Date,a=new Date(t.getFullYear(),t.getMonth()-1,1),s=new Date(t.getFullYear(),t.getMonth(),0);return[a,s]},getCurrentMonthRange:()=>{const t=new Date;return[new Date(t.getFullYear(),t.getMonth(),1),new Date]},getLastWeekRange:()=>{const t=new Date,a=new Date(t);return a.setDate(t.getDate()-7),[a,t]},getLastThreeMonthsRange:()=>{const t=new Date;return[new Date(t.getFullYear(),t.getMonth()-3,1),new Date]},getYearToDateRange:()=>{const t=new Date;return[new Date(t.getFullYear(),0,1),new Date]},isLoading:l,error:c}}function G(e){const u=new Date(e),h=u.getFullYear(),y=`0${u.getMonth()+1}`.slice(-2),d=`0${u.getDate()}`.slice(-2);return`${h}-${y}-${d}`}export{G as f,C as u};
