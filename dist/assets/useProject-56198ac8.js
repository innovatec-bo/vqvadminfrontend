import{$ as c}from"./api-00241657.js";import{r as s,k as j,ac as g,a2 as p}from"./index-1f8ac145.js";import{c as d,b as y}from"./notifications-cae4d01c.js";const v=async t=>await c("/project",{method:"POST",body:t}),P=async t=>await c("/projects",{method:"GET",params:t}),f=async(t,a)=>await c(`/project/${t}`,{method:"PUT",body:a}),m=async t=>await c(`/project/${t}`,{method:"GET"});function $(){const t=s(!1),a=s(null),l=j(),n=s(null),u=s([]),i=s(0);return g("userData").value,{loadingProject:t,error:a,addProyect:async o=>{t.value=!0,a.value=null;try{const e=await v(o);console.log("Respuesta del servidor:",e),d("El proyecto se agrego correctamente","Se acaba de registrar un nuevo proyecto al sistema de inventario."),l.push("/realty/project/list-projects")}catch(e){console.log(e),e.response&&e.response.status==422&&y("Advertencia","Faltan Datos por Rellenar")}finally{t.value=!1}},editProyect:async(o,e)=>{t.value=!0,a.value=null;try{console.log("entro aqui"),console.log(e,o);const r=await f(o,e);console.log("Respuesta del servidor:",r),d("Se Actualizo correctamente el Proyecto","El proyecto fue actualizado correctamente en el sistema."),l.push("/realty/project/list-projects")}catch(r){console.log(r),r.response&&r.response.status==422&&y("Advertencia","Faltan Datos por Rellenar")}finally{t.value=!1}},getProjectId:async o=>{t.value=!0;try{const e=await m(o);n.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},getallProjects:async o=>{try{const e=await P(o);console.log(e),u.value=e.data.data,i.value=e.data.total}catch(e){console.log(e)}},project:n,projects:p(()=>u.value),totalProjects:p(()=>i.value)}}export{$ as u};
