import{$ as c}from"./api-0b9a9d14.js";import{r as l,k as h,a2 as r}from"./index-020f2097.js";import{s as u,a as g}from"./notifications-73ea9381.js";const p=async t=>await c("/activity",{method:"POST",body:t}),f=async t=>await c(`/activity/${t}`,{method:"GET"}),m=async()=>await c("/typeActivities",{method:"GET"}),w=async(t,e)=>await c(`/activity/${t}/status`,{method:"PATCH",body:e}),T=async(t,e)=>await c(`/activity/${t}`,{method:"PATCH",body:e}),R=async(t,e)=>await c(`/activity/asesor/${t}/fecha`,{method:"GET",params:e}),F=async t=>await c(`/activity/asesor/${t}/fecha-future`,{method:"GET"}),O=async t=>await c(`/activity/asesor/${t}/fecha-past`,{method:"GET"}),E=async(t,e)=>await c(`/activity/asesor/${t}/fecha-rango`,{method:"GET",params:e}),B=async(t,e)=>await c(`/activity/${t}/change_status`,{method:"PATCH",body:e});function k(){const t=l(!1),e=l(null),n=l(null),o=l([]),v=l([]),y=l([]),A=l([]);return l(0),h(),{loadingActivity:t,error:e,registerActivity:async i=>{t.value=!0,e.value=null;try{const a=await p(i);n.value=a.data,u("CREACION EXITOSA",a.data.message)}catch(a){console.log(a),a.response&&a.response.status==422&&g("ERROR","FALTAN DATOS POR RELLENAR"),e.value=a.message}finally{t.value=!1}},getActivityId:async i=>{t.value=!0,e.value=null;try{const a=await f(i);n.value=a.data}catch(a){e.value=a.message}finally{t.value=!1}},getallTypeActivities:async()=>{try{const i=await m();console.log(i.data),A.value=i.data}catch(i){console.log(i)}},changeStatusActivity:async(i,a)=>{t.value=!0,e.value=null;try{const s=await w(i,a);console.log(s),n.value=s.data,u("ACTUALIZACION EXITOSA","Actividad Completada")}catch(s){console.log(s),e.value=s.message}finally{t.value=!1}},getallActivitiesByOportunity:async(i,a)=>{t.value=!0,e.value=null;try{const s=await getByOportunity(i,a);o.value=s.data,console.log(o)}catch(s){e.value=s.message}finally{t.value=!1}},getallActivitiesByAsesorFecha:async i=>{t.value=!0,e.value=null;const a=new Date().toISOString().split("T")[0];try{const d=await R(i,{fecha:a});o.value=d.data}catch(s){e.value=s.message}finally{t.value=!1}},getallActivitiesByAsesorRangoFecha:async(i,a)=>{t.value=!0,e.value=null;try{const s=await E(i,a);o.value=s.data.data}catch(s){e.value=s.message}finally{t.value=!1}},getallActivitiesByFechaPast:async i=>{t.value=!0,e.value=null;try{const a=await O(i);v.value=a.data}catch(a){e.value=a.message}finally{t.value=!1}},getallActivitiesByFechaFuture:async i=>{t.value=!0,e.value=null;try{const a=await F(i);y.value=a.data}catch(a){e.value=a.message}finally{t.value=!1}},updateActivity:async(i,a)=>{t.value=!0,e.value=null;try{const s=await T(i,a);console.log(s),n.value=s.data,u("ACTUALIZACION EXITOSA","")}catch(s){console.log(s),s.response&&s.response.status==422&&g("ERROR","FALTAN DATOS POR RELLENAR"),e.value=s.message}finally{t.value=!1}},completedActivityAndRegister:async(i,a)=>{t.value=!0;try{const s=await B(i,a);u("Se Reagendo Nueva Actividad","Se Completo la Antigua actividad y se agrego una nueva"),console.log(s)}catch(s){e.value=s.message}finally{t.value=!1}},activity:n,activities:r(()=>o.value),activitiesPast:r(()=>v.value),activitiesFuture:r(()=>y.value),typeActivities:r(()=>A.value)}}export{k as u};
