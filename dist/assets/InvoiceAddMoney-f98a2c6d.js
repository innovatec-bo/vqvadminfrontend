import{r as f}from"./validators-dea6e3a5.js";import{a as p}from"./VRow-09934e5a.js";import{V}from"./VTextField-65628ede.js";import{r as E,a2 as b,w as P,o as m,f as R,e as s,d,x as n,c as v,F as _,i as x,b as o,n as C,a4 as T,$ as B,v as c}from"./index-867472cb.js";import{V as I}from"./VCard-ff5f3fa8.js";const U={CASH:{value:"CASH",title:"Contado"},DIRECTCREDIT:{value:"DIRECTCREDIT",title:"Credito Directo"},BANKCREDIT:{value:"BANKCREDIT",title:"Credito Bancario"}},$={DEPARTAMENT:{label:"Departamento",value:"DEPARTAMENT"},PARK:{label:"Parqueo",value:"PARK"}},N={class:"mb-2"},k={class:"mt-4"},q={class:"mt-4"},w={__name:"InvoiceAddMoney",props:{title:{type:String,default:""},type:{type:String,default:""},amount:{type:Number,default:0},differs:{type:Array,default:()=>[]}},setup(y){const a=y,l=E(a.differs),A=()=>{l.value.push({amount:"",date:""}),a.differs=l.value},g=e=>{l.value.splice(e,1),a.differs=l.value},i=b(()=>l.value.reduce((e,r)=>{const t=parseFloat(r.amount)||0;return e+t},0));return P(i,e=>{e>a.amount&&alert("El total de los pagos no puede exceder el monto total.")}),(e,r)=>(m(),R(I,{flat:"",border:"",class:"d-flex flex-column pa-5"},{default:s(()=>[d("h3",N,n(a.title)+" : "+n(a.amount),1),(m(!0),v(_,null,x(l.value,(t,D)=>(m(),v("div",{key:t.id,class:"d-flex align-center"},[o(p,{cols:"5"},{default:s(()=>[o(V,{modelValue:t.date,"onUpdate:modelValue":u=>t.date=u,label:"Fecha",type:"date",outlined:"",rules:["requiredValidator"in e?e.requiredValidator:C(f)]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),o(p,{cols:"5"},{default:s(()=>[o(V,{modelValue:t.amount,"onUpdate:modelValue":u=>t.amount=u,rules:["requiredValidator"in e?e.requiredValidator:C(f)],"error-messages":t.amount?"":"*campo obligatorio",label:"Monto *",type:"number",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","rules","error-messages"])]),_:2},1024),o(T,{color:"error",outlined:"",class:"mt-0",onClick:u=>g(D)},{default:s(()=>[o(B,{icon:"tabler-square-x"})]),_:2},1032,["onClick"])]))),128)),d("div",k,[r[0]||(r[0]=d("strong",null,"Suma Actual de Pagos: ",-1)),c(" $"+n(i.value.toFixed(2)),1)]),d("div",q,[r[1]||(r[1]=d("strong",null,"Monto Restante:",-1)),c(" $"+n((a.amount-i.value).toFixed(2)),1)]),o(T,{color:"secondary",class:"mt-4",onClick:A},{default:s(()=>[c(" Diferir "+n(a.title),1)]),_:1})]),_:1}))}};export{$ as P,w as _,U as a};
